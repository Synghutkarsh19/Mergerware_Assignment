{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"D:\\mergerware\\loan-management-app\\packages\\htmljs\\visitors.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/htmljs/visitors.js","filename":"D:\\mergerware\\loan-management-app\\packages\\htmljs\\visitors.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"D:\\mergerware\\loan-management-app","root":"D:\\mergerware\\loan-management-app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"MemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"D:\\mergerware\\loan-management-app\\packages\\htmljs\\visitors.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/htmljs/visitors.js"}},"code":"var _typeof;\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\nmodule.export({\n  Visitor: function () {\n    return Visitor;\n  },\n  TransformingVisitor: function () {\n    return TransformingVisitor;\n  },\n  ToTextVisitor: function () {\n    return ToTextVisitor;\n  },\n  ToHTMLVisitor: function () {\n    return ToHTMLVisitor;\n  },\n  toHTML: function () {\n    return toHTML;\n  },\n  TEXTMODE: function () {\n    return TEXTMODE;\n  },\n  toText: function () {\n    return toText;\n  }\n});\nvar Tag, CharRef, Comment, Raw, isArray, getTag, isConstructedObject, flattenAttributes, isVoidElement;\nmodule.link(\"./html\", {\n  Tag: function (v) {\n    Tag = v;\n  },\n  CharRef: function (v) {\n    CharRef = v;\n  },\n  Comment: function (v) {\n    Comment = v;\n  },\n  Raw: function (v) {\n    Raw = v;\n  },\n  isArray: function (v) {\n    isArray = v;\n  },\n  getTag: function (v) {\n    getTag = v;\n  },\n  isConstructedObject: function (v) {\n    isConstructedObject = v;\n  },\n  flattenAttributes: function (v) {\n    flattenAttributes = v;\n  },\n  isVoidElement: function (v) {\n    isVoidElement = v;\n  }\n}, 0);\nvar IDENTITY = function (x) {\n  return x;\n};\n\n// _assign is like _.extend or the upcoming Object.assign.\n// Copy src's own, enumerable properties onto tgt and return\n// tgt.\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _assign = function (tgt, src) {\n  for (var k in meteorBabelHelpers.sanitizeForInObject(src)) {\n    if (_hasOwnProperty.call(src, k)) tgt[k] = src[k];\n  }\n  return tgt;\n};\nvar Visitor = function (props) {\n  _assign(this, props);\n};\nVisitor.def = function (options) {\n  _assign(this.prototype, options);\n};\nVisitor.extend = function (options) {\n  var curType = this;\n  var subType = function () {\n    function HTMLVisitorSubtype() {\n      Visitor.apply(this, arguments);\n    }\n    return HTMLVisitorSubtype;\n  }(\n    /*arguments*/\n  );\n  subType.prototype = new curType();\n  subType.extend = curType.extend;\n  subType.def = curType.def;\n  if (options) _assign(subType.prototype, options);\n  return subType;\n};\nVisitor.def({\n  visit: function (content /*, ...*/) {\n    if (content == null)\n      // null or undefined.\n      return this.visitNull.apply(this, arguments);\n    if (_typeof(content) === 'object') {\n      if (content.htmljsType) {\n        switch (content.htmljsType) {\n          case Tag.htmljsType:\n            return this.visitTag.apply(this, arguments);\n          case CharRef.htmljsType:\n            return this.visitCharRef.apply(this, arguments);\n          case Comment.htmljsType:\n            return this.visitComment.apply(this, arguments);\n          case Raw.htmljsType:\n            return this.visitRaw.apply(this, arguments);\n          default:\n            throw new Error(\"Unknown htmljs type: \" + content.htmljsType);\n        }\n      }\n      if (isArray(content)) return this.visitArray.apply(this, arguments);\n      return this.visitObject.apply(this, arguments);\n    } else if (typeof content === 'string' || typeof content === 'boolean' || typeof content === 'number') {\n      return this.visitPrimitive.apply(this, arguments);\n    } else if (typeof content === 'function') {\n      return this.visitFunction.apply(this, arguments);\n    }\n    throw new Error(\"Unexpected object in htmljs: \" + content);\n  },\n  visitNull: function (nullOrUndefined /*, ...*/) {},\n  visitPrimitive: function (stringBooleanOrNumber /*, ...*/) {},\n  visitArray: function (array /*, ...*/) {},\n  visitComment: function (comment /*, ...*/) {},\n  visitCharRef: function (charRef /*, ...*/) {},\n  visitRaw: function (raw /*, ...*/) {},\n  visitTag: function (tag /*, ...*/) {},\n  visitObject: function (obj /*, ...*/) {\n    throw new Error(\"Unexpected object in htmljs: \" + obj);\n  },\n  visitFunction: function (fn /*, ...*/) {\n    throw new Error(\"Unexpected function in htmljs: \" + fn);\n  }\n});\nvar TransformingVisitor = Visitor.extend();\nTransformingVisitor.def({\n  visitNull: IDENTITY,\n  visitPrimitive: IDENTITY,\n  visitArray: function (array) {\n    var result = array;\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    for (var i = 0; i < array.length; i++) {\n      var oldItem = array[i];\n      var newItem = this.visit.apply(this, [oldItem].concat(args));\n      if (newItem !== oldItem) {\n        // copy `array` on write\n        if (result === array) result = array.slice();\n        result[i] = newItem;\n      }\n    }\n    return result;\n  },\n  visitComment: IDENTITY,\n  visitCharRef: IDENTITY,\n  visitRaw: IDENTITY,\n  visitObject: function (obj) {\n    // Don't parse Markdown & RCData as HTML\n    if (obj.textMode != null) {\n      return obj;\n    }\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    if ('content' in obj) {\n      obj.content = this.visit.apply(this, [obj.content].concat(args));\n    }\n    if ('elseContent' in obj) {\n      obj.elseContent = this.visit.apply(this, [obj.elseContent].concat(args));\n    }\n    return obj;\n  },\n  visitFunction: IDENTITY,\n  visitTag: function (tag) {\n    var oldChildren = tag.children;\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    var newChildren = this.visitChildren.apply(this, [oldChildren].concat(args));\n    var oldAttrs = tag.attrs;\n    var newAttrs = this.visitAttributes.apply(this, [oldAttrs].concat(args));\n    if (newAttrs === oldAttrs && newChildren === oldChildren) return tag;\n    var newTag = getTag(tag.tagName).apply(null, newChildren);\n    newTag.attrs = newAttrs;\n    return newTag;\n  },\n  visitChildren: function (children) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return this.visitArray.apply(this, [children].concat(args));\n  },\n  // Transform the `.attrs` property of a tag, which may be a dictionary,\n  // an array, or in some uses, a foreign object (such as\n  // a template tag).\n  visitAttributes: function (attrs) {\n    for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n      args[_key5 - 1] = arguments[_key5];\n    }\n    if (isArray(attrs)) {\n      var result = attrs;\n      for (var i = 0; i < attrs.length; i++) {\n        var oldItem = attrs[i];\n        var newItem = this.visitAttributes.apply(this, [oldItem].concat(args));\n        if (newItem !== oldItem) {\n          // copy on write\n          if (result === attrs) result = attrs.slice();\n          result[i] = newItem;\n        }\n      }\n      return result;\n    }\n    if (attrs && isConstructedObject(attrs)) {\n      throw new Error(\"The basic TransformingVisitor does not support \" + \"foreign objects in attributes.  Define a custom \" + \"visitAttributes for this case.\");\n    }\n    var oldAttrs = attrs;\n    var newAttrs = oldAttrs;\n    if (oldAttrs) {\n      var attrArgs = [null, null];\n      attrArgs.push.apply(attrArgs, arguments);\n      for (var k in meteorBabelHelpers.sanitizeForInObject(oldAttrs)) {\n        var oldValue = oldAttrs[k];\n        attrArgs[0] = k;\n        attrArgs[1] = oldValue;\n        var newValue = this.visitAttribute.apply(this, attrArgs);\n        if (newValue !== oldValue) {\n          // copy on write\n          if (newAttrs === oldAttrs) newAttrs = _assign({}, oldAttrs);\n          newAttrs[k] = newValue;\n        }\n      }\n    }\n    return newAttrs;\n  },\n  // Transform the value of one attribute name/value in an\n  // attributes dictionary.\n  visitAttribute: function (name, value, tag) {\n    for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n      args[_key6 - 3] = arguments[_key6];\n    }\n    return this.visit.apply(this, [value].concat(args));\n  }\n});\nvar ToTextVisitor = Visitor.extend();\nToTextVisitor.def({\n  visitNull: function (nullOrUndefined) {\n    return '';\n  },\n  visitPrimitive: function (stringBooleanOrNumber) {\n    var str = String(stringBooleanOrNumber);\n    if (this.textMode === TEXTMODE.RCDATA) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;');\n    } else if (this.textMode === TEXTMODE.ATTRIBUTE) {\n      // escape `&` and `\"` this time, not `&` and `<`\n      return str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n    } else {\n      return str;\n    }\n  },\n  visitArray: function (array) {\n    var parts = [];\n    for (var i = 0; i < array.length; i++) parts.push(this.visit(array[i]));\n    return parts.join('');\n  },\n  visitComment: function (comment) {\n    throw new Error(\"Can't have a comment here\");\n  },\n  visitCharRef: function (charRef) {\n    if (this.textMode === TEXTMODE.RCDATA || this.textMode === TEXTMODE.ATTRIBUTE) {\n      return charRef.html;\n    } else {\n      return charRef.str;\n    }\n  },\n  visitRaw: function (raw) {\n    return raw.value;\n  },\n  visitTag: function (tag) {\n    // Really we should just disallow Tags here.  However, at the\n    // moment it's useful to stringify any HTML we find.  In\n    // particular, when you include a template within `{{#markdown}}`,\n    // we render the template as text, and since there's currently\n    // no way to make the template be *parsed* as text (e.g. `<template\n    // type=\"text\">`), we hackishly support HTML tags in markdown\n    // in templates by parsing them and stringifying them.\n    return this.visit(this.toHTML(tag));\n  },\n  visitObject: function (x) {\n    throw new Error(\"Unexpected object in htmljs in toText: \" + x);\n  },\n  toHTML: function (node) {\n    return toHTML(node);\n  }\n});\nvar ToHTMLVisitor = Visitor.extend();\nToHTMLVisitor.def({\n  visitNull: function (nullOrUndefined) {\n    return '';\n  },\n  visitPrimitive: function (stringBooleanOrNumber) {\n    var str = String(stringBooleanOrNumber);\n    return str.replace(/&/g, '&amp;').replace(/</g, '&lt;');\n  },\n  visitArray: function (array) {\n    var parts = [];\n    for (var i = 0; i < array.length; i++) parts.push(this.visit(array[i]));\n    return parts.join('');\n  },\n  visitComment: function (comment) {\n    return '<!--' + comment.sanitizedValue + '-->';\n  },\n  visitCharRef: function (charRef) {\n    return charRef.html;\n  },\n  visitRaw: function (raw) {\n    return raw.value;\n  },\n  visitTag: function (tag) {\n    var attrStrs = [];\n    var tagName = tag.tagName;\n    var children = tag.children;\n    var attrs = tag.attrs;\n    if (attrs) {\n      attrs = flattenAttributes(attrs);\n      for (var k in meteorBabelHelpers.sanitizeForInObject(attrs)) {\n        if (k === 'value' && tagName === 'textarea') {\n          children = [attrs[k], children];\n        } else {\n          var v = this.toText(attrs[k], TEXTMODE.ATTRIBUTE);\n          attrStrs.push(' ' + k + '=\"' + v + '\"');\n        }\n      }\n    }\n    var startTag = '<' + tagName + attrStrs.join('') + '>';\n    var childStrs = [];\n    var content;\n    if (tagName === 'textarea') {\n      for (var i = 0; i < children.length; i++) childStrs.push(this.toText(children[i], TEXTMODE.RCDATA));\n      content = childStrs.join('');\n      if (content.slice(0, 1) === '\\n')\n        // TEXTAREA will absorb a newline, so if we see one, add\n        // another one.\n        content = '\\n' + content;\n    } else {\n      for (var i = 0; i < children.length; i++) childStrs.push(this.visit(children[i]));\n      content = childStrs.join('');\n    }\n    var result = startTag + content;\n    if (children.length || !isVoidElement(tagName)) {\n      // \"Void\" elements like BR are the only ones that don't get a close\n      // tag in HTML5.  They shouldn't have contents, either, so we could\n      // throw an error upon seeing contents here.\n      result += '</' + tagName + '>';\n    }\n    return result;\n  },\n  visitObject: function (x) {\n    throw new Error(\"Unexpected object in htmljs in toHTML: \" + x);\n  },\n  toText: function (node, textMode) {\n    return toText(node, textMode);\n  }\n});\n\n////////////////////////////// TOHTML\n\nfunction toHTML(content) {\n  return new ToHTMLVisitor().visit(content);\n}\nvar TEXTMODE = {\n  STRING: 1,\n  RCDATA: 2,\n  ATTRIBUTE: 3\n};\nfunction toText(content, textMode) {\n  if (!textMode) throw new Error(\"textMode required for HTML.toText\");\n  if (!(textMode === TEXTMODE.STRING || textMode === TEXTMODE.RCDATA || textMode === TEXTMODE.ATTRIBUTE)) throw new Error(\"Unknown textMode: \" + textMode);\n  var visitor = new ToTextVisitor({\n    textMode: textMode\n  });\n  return visitor.visit(content);\n}","map":{"version":3,"names":["_typeof","module","link","default","v","export","Visitor","TransformingVisitor","ToTextVisitor","ToHTMLVisitor","toHTML","TEXTMODE","toText","Tag","CharRef","Comment","Raw","isArray","getTag","isConstructedObject","flattenAttributes","isVoidElement","IDENTITY","x","_hasOwnProperty","Object","prototype","hasOwnProperty","_assign","tgt","src","k","meteorBabelHelpers","sanitizeForInObject","call","props","def","options","extend","curType","subType","HTMLVisitorSubtype","apply","arguments","visit","content","visitNull","htmljsType","visitTag","visitCharRef","visitComment","visitRaw","Error","visitArray","visitObject","visitPrimitive","visitFunction","nullOrUndefined","stringBooleanOrNumber","array","comment","charRef","raw","tag","obj","fn","result","_len","length","args","Array","_key","i","oldItem","newItem","concat","slice","textMode","_len2","_key2","elseContent","oldChildren","children","_len3","_key3","newChildren","visitChildren","oldAttrs","attrs","newAttrs","visitAttributes","newTag","tagName","_len4","_key4","_len5","_key5","attrArgs","push","oldValue","newValue","visitAttribute","name","value","_len6","_key6","str","String","RCDATA","replace","ATTRIBUTE","parts","join","html","node","sanitizedValue","attrStrs","startTag","childStrs","STRING","visitor"],"sources":["packages/htmljs/visitors.js"],"sourcesContent":["import {\n  Tag,\n  CharRef,\n  Comment,\n  Raw,\n  isArray,\n  getTag,\n  isConstructedObject,\n  flattenAttributes,\n  isVoidElement,\n} from './html';\n\n\nvar IDENTITY = function (x) { return x; };\n\n// _assign is like _.extend or the upcoming Object.assign.\n// Copy src's own, enumerable properties onto tgt and return\n// tgt.\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _assign = function (tgt, src) {\n  for (var k in src) {\n    if (_hasOwnProperty.call(src, k))\n      tgt[k] = src[k];\n  }\n  return tgt;\n};\n\nexport const Visitor = function (props) {\n  _assign(this, props);\n};\n\nVisitor.def = function (options) {\n  _assign(this.prototype, options);\n};\n\nVisitor.extend = function (options) {\n  var curType = this;\n  var subType = function HTMLVisitorSubtype(/*arguments*/) {\n    Visitor.apply(this, arguments);\n  };\n  subType.prototype = new curType;\n  subType.extend = curType.extend;\n  subType.def = curType.def;\n  if (options)\n    _assign(subType.prototype, options);\n  return subType;\n};\n\nVisitor.def({\n  visit: function (content/*, ...*/) {\n    if (content == null)\n      // null or undefined.\n      return this.visitNull.apply(this, arguments);\n\n    if (typeof content === 'object') {\n      if (content.htmljsType) {\n        switch (content.htmljsType) {\n        case Tag.htmljsType:\n          return this.visitTag.apply(this, arguments);\n        case CharRef.htmljsType:\n          return this.visitCharRef.apply(this, arguments);\n        case Comment.htmljsType:\n          return this.visitComment.apply(this, arguments);\n        case Raw.htmljsType:\n          return this.visitRaw.apply(this, arguments);\n        default:\n          throw new Error(\"Unknown htmljs type: \" + content.htmljsType);\n        }\n      }\n\n      if (isArray(content))\n        return this.visitArray.apply(this, arguments);\n\n      return this.visitObject.apply(this, arguments);\n\n    } else if ((typeof content === 'string') ||\n               (typeof content === 'boolean') ||\n               (typeof content === 'number')) {\n      return this.visitPrimitive.apply(this, arguments);\n\n    } else if (typeof content === 'function') {\n      return this.visitFunction.apply(this, arguments);\n    }\n\n    throw new Error(\"Unexpected object in htmljs: \" + content);\n\n  },\n  visitNull: function (nullOrUndefined/*, ...*/) {},\n  visitPrimitive: function (stringBooleanOrNumber/*, ...*/) {},\n  visitArray: function (array/*, ...*/) {},\n  visitComment: function (comment/*, ...*/) {},\n  visitCharRef: function (charRef/*, ...*/) {},\n  visitRaw: function (raw/*, ...*/) {},\n  visitTag: function (tag/*, ...*/) {},\n  visitObject: function (obj/*, ...*/) {\n    throw new Error(\"Unexpected object in htmljs: \" + obj);\n  },\n  visitFunction: function (fn/*, ...*/) {\n    throw new Error(\"Unexpected function in htmljs: \" + fn);\n  }\n});\n\nexport const TransformingVisitor = Visitor.extend();\nTransformingVisitor.def({\n  visitNull: IDENTITY,\n  visitPrimitive: IDENTITY,\n  visitArray: function (array, ...args) {\n    var result = array;\n    for (var i = 0; i < array.length; i++) {\n      var oldItem = array[i];\n      var newItem = this.visit(oldItem, ...args);\n      if (newItem !== oldItem) {\n        // copy `array` on write\n        if (result === array)\n          result = array.slice();\n        result[i] = newItem;\n      }\n    }\n    return result;\n  },\n  visitComment: IDENTITY,\n  visitCharRef: IDENTITY,\n  visitRaw: IDENTITY,\n  visitObject: function(obj, ...args){\n    // Don't parse Markdown & RCData as HTML\n    if (obj.textMode != null){\n      return obj;\n    }\n    if ('content' in obj) {\n      obj.content = this.visit(obj.content, ...args);\n    }\n    if ('elseContent' in obj){\n      obj.elseContent = this.visit(obj.elseContent, ...args);\n    }\n    return obj;\n  },\n  visitFunction: IDENTITY,\n  visitTag: function (tag, ...args) {\n    var oldChildren = tag.children;\n    var newChildren = this.visitChildren(oldChildren, ...args);\n\n    var oldAttrs = tag.attrs;\n    var newAttrs = this.visitAttributes(oldAttrs, ...args);\n\n    if (newAttrs === oldAttrs && newChildren === oldChildren)\n      return tag;\n\n    var newTag = getTag(tag.tagName).apply(null, newChildren);\n    newTag.attrs = newAttrs;\n    return newTag;\n  },\n  visitChildren: function (children, ...args) {\n    return this.visitArray(children, ...args);\n  },\n  // Transform the `.attrs` property of a tag, which may be a dictionary,\n  // an array, or in some uses, a foreign object (such as\n  // a template tag).\n  visitAttributes: function (attrs, ...args) {\n    if (isArray(attrs)) {\n      var result = attrs;\n      for (var i = 0; i < attrs.length; i++) {\n        var oldItem = attrs[i];\n        var newItem = this.visitAttributes(oldItem, ...args);\n        if (newItem !== oldItem) {\n          // copy on write\n          if (result === attrs)\n            result = attrs.slice();\n          result[i] = newItem;\n        }\n      }\n      return result;\n    }\n\n    if (attrs && isConstructedObject(attrs)) {\n      throw new Error(\"The basic TransformingVisitor does not support \" +\n                      \"foreign objects in attributes.  Define a custom \" +\n                      \"visitAttributes for this case.\");\n    }\n\n    var oldAttrs = attrs;\n    var newAttrs = oldAttrs;\n    if (oldAttrs) {\n      var attrArgs = [null, null];\n      attrArgs.push.apply(attrArgs, arguments);\n      for (var k in oldAttrs) {\n        var oldValue = oldAttrs[k];\n        attrArgs[0] = k;\n        attrArgs[1] = oldValue;\n        var newValue = this.visitAttribute.apply(this, attrArgs);\n        if (newValue !== oldValue) {\n          // copy on write\n          if (newAttrs === oldAttrs)\n            newAttrs = _assign({}, oldAttrs);\n          newAttrs[k] = newValue;\n        }\n      }\n    }\n\n    return newAttrs;\n  },\n  // Transform the value of one attribute name/value in an\n  // attributes dictionary.\n  visitAttribute: function (name, value, tag, ...args) {\n    return this.visit(value, ...args);\n  }\n});\n\n\nexport const ToTextVisitor = Visitor.extend();\nToTextVisitor.def({\n  visitNull: function (nullOrUndefined) {\n    return '';\n  },\n  visitPrimitive: function (stringBooleanOrNumber) {\n    var str = String(stringBooleanOrNumber);\n    if (this.textMode === TEXTMODE.RCDATA) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;');\n    } else if (this.textMode === TEXTMODE.ATTRIBUTE) {\n      // escape `&` and `\"` this time, not `&` and `<`\n      return str.replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n    } else {\n      return str;\n    }\n  },\n  visitArray: function (array) {\n    var parts = [];\n    for (var i = 0; i < array.length; i++)\n      parts.push(this.visit(array[i]));\n    return parts.join('');\n  },\n  visitComment: function (comment) {\n    throw new Error(\"Can't have a comment here\");\n  },\n  visitCharRef: function (charRef) {\n    if (this.textMode === TEXTMODE.RCDATA ||\n        this.textMode === TEXTMODE.ATTRIBUTE) {\n      return charRef.html;\n    } else {\n      return charRef.str;\n    }\n  },\n  visitRaw: function (raw) {\n    return raw.value;\n  },\n  visitTag: function (tag) {\n    // Really we should just disallow Tags here.  However, at the\n    // moment it's useful to stringify any HTML we find.  In\n    // particular, when you include a template within `{{#markdown}}`,\n    // we render the template as text, and since there's currently\n    // no way to make the template be *parsed* as text (e.g. `<template\n    // type=\"text\">`), we hackishly support HTML tags in markdown\n    // in templates by parsing them and stringifying them.\n    return this.visit(this.toHTML(tag));\n  },\n  visitObject: function (x) {\n    throw new Error(\"Unexpected object in htmljs in toText: \" + x);\n  },\n  toHTML: function (node) {\n    return toHTML(node);\n  }\n});\n\n\n\nexport const ToHTMLVisitor = Visitor.extend();\nToHTMLVisitor.def({\n  visitNull: function (nullOrUndefined) {\n    return '';\n  },\n  visitPrimitive: function (stringBooleanOrNumber) {\n    var str = String(stringBooleanOrNumber);\n    return str.replace(/&/g, '&amp;').replace(/</g, '&lt;');\n  },\n  visitArray: function (array) {\n    var parts = [];\n    for (var i = 0; i < array.length; i++)\n      parts.push(this.visit(array[i]));\n    return parts.join('');\n  },\n  visitComment: function (comment) {\n    return '<!--' + comment.sanitizedValue + '-->';\n  },\n  visitCharRef: function (charRef) {\n    return charRef.html;\n  },\n  visitRaw: function (raw) {\n    return raw.value;\n  },\n  visitTag: function (tag) {\n    var attrStrs = [];\n\n    var tagName = tag.tagName;\n    var children = tag.children;\n\n    var attrs = tag.attrs;\n    if (attrs) {\n      attrs = flattenAttributes(attrs);\n      for (var k in attrs) {\n        if (k === 'value' && tagName === 'textarea') {\n          children = [attrs[k], children];\n        } else {\n          var v = this.toText(attrs[k], TEXTMODE.ATTRIBUTE);\n          attrStrs.push(' ' + k + '=\"' + v + '\"');\n        }\n      }\n    }\n\n    var startTag = '<' + tagName + attrStrs.join('') + '>';\n\n    var childStrs = [];\n    var content;\n    if (tagName === 'textarea') {\n\n      for (var i = 0; i < children.length; i++)\n        childStrs.push(this.toText(children[i], TEXTMODE.RCDATA));\n\n      content = childStrs.join('');\n      if (content.slice(0, 1) === '\\n')\n        // TEXTAREA will absorb a newline, so if we see one, add\n        // another one.\n        content = '\\n' + content;\n\n    } else {\n      for (var i = 0; i < children.length; i++)\n        childStrs.push(this.visit(children[i]));\n\n      content = childStrs.join('');\n    }\n\n    var result = startTag + content;\n\n    if (children.length || ! isVoidElement(tagName)) {\n      // \"Void\" elements like BR are the only ones that don't get a close\n      // tag in HTML5.  They shouldn't have contents, either, so we could\n      // throw an error upon seeing contents here.\n      result += '</' + tagName + '>';\n    }\n\n    return result;\n  },\n  visitObject: function (x) {\n    throw new Error(\"Unexpected object in htmljs in toHTML: \" + x);\n  },\n  toText: function (node, textMode) {\n    return toText(node, textMode);\n  }\n});\n\n\n\n////////////////////////////// TOHTML\n\nexport function toHTML(content) {\n  return (new ToHTMLVisitor).visit(content);\n}\n\n// Escaping modes for outputting text when generating HTML.\nexport const TEXTMODE = {\n  STRING: 1,\n  RCDATA: 2,\n  ATTRIBUTE: 3\n};\n\n\nexport function toText(content, textMode) {\n  if (! textMode)\n    throw new Error(\"textMode required for HTML.toText\");\n  if (! (textMode === TEXTMODE.STRING ||\n         textMode === TEXTMODE.RCDATA ||\n         textMode === TEXTMODE.ATTRIBUTE))\n    throw new Error(\"Unknown textMode: \" + textMode);\n\n  var visitor = new ToTextVisitor({textMode: textMode});\n  return visitor.visit(content);\n}\n"],"mappings":"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"},"sourceType":"module","externalDependencies":{},"hash":"571a44b4a9fadfd9e4e2658362749e0891e3917f"}
