{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"D:\\mergerware\\loan-management-app\\packages\\blaze\\lookup.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"packages/blaze/lookup.js","filename":"D:\\mergerware\\loan-management-app\\packages\\blaze\\lookup.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"D:\\mergerware\\loan-management-app","root":"D:\\mergerware\\loan-management-app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"D:\\mergerware\\loan-management-app\\packages\\blaze\\lookup.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/blaze/lookup.js"}},"code":"let has;\nmodule.link(\"lodash.has\", {\n  default(v) {\n    has = v;\n  }\n}, 0);\n/** @param {(binding: Binding) => boolean} fn */\nfunction _createBindingsHelper(fn) {\n  /** @param {string[]} names */\n  return function () {\n    for (var _len = arguments.length, names = new Array(_len), _key = 0; _key < _len; _key++) {\n      names[_key] = arguments[_key];\n    }\n    const view = Blaze.currentView;\n\n    // There's either zero arguments (i.e., check all bindings) or an additional\n    // \"hash\" argument that we have to ignore.\n    names = names.length === 0\n    // TODO: Should we walk up the bindings here?\n    ? Object.keys(view._scopeBindings) : names.slice(0, -1);\n    return names.some(name => {\n      const binding = _lexicalBindingLookup(view, name);\n      if (!binding) {\n        throw new Error(\"Binding for \\\"\".concat(name, \"\\\" was not found.\"));\n      }\n      return fn(binding.get());\n    });\n  };\n}\nBlaze._globalHelpers = {\n  /** @summary Check whether any of the given bindings (or all if none given) is still pending. */\n  '@pending': _createBindingsHelper(binding => binding === undefined),\n  /** @summary Check whether any of the given bindings (or all if none given) has rejected. */\n  '@rejected': _createBindingsHelper(binding => !!binding && 'error' in binding),\n  /** @summary Check whether any of the given bindings (or all if none given) has resolved. */\n  '@resolved': _createBindingsHelper(binding => !!binding && 'value' in binding)\n};\n\n// Documented as Template.registerHelper.\n// This definition also provides back-compat for `UI.registerHelper`.\nBlaze.registerHelper = function (name, func) {\n  Blaze._globalHelpers[name] = func;\n};\n\n// Also documented as Template.deregisterHelper\nBlaze.deregisterHelper = function (name) {\n  delete Blaze._globalHelpers[name];\n};\nvar bindIfIsFunction = function (x, target) {\n  if (typeof x !== 'function') return x;\n  return Blaze._bind(x, target);\n};\n\n// If `x` is a function, binds the value of `this` for that function\n// to the current data context.\nvar bindDataContext = function (x) {\n  if (typeof x === 'function') {\n    return function () {\n      var data = Blaze.getData();\n      if (data == null) data = {};\n      return x.apply(data, arguments);\n    };\n  }\n  return x;\n};\nBlaze._OLDSTYLE_HELPER = {};\nBlaze._getTemplateHelper = function (template, name, tmplInstanceFunc) {\n  // XXX COMPAT WITH 0.9.3\n  var isKnownOldStyleHelper = false;\n  if (template.__helpers.has(name)) {\n    var helper = template.__helpers.get(name);\n    if (helper === Blaze._OLDSTYLE_HELPER) {\n      isKnownOldStyleHelper = true;\n    } else if (helper != null) {\n      return wrapHelper(bindDataContext(helper), tmplInstanceFunc);\n    } else {\n      return null;\n    }\n  }\n\n  // old-style helper\n  if (name in template) {\n    // Only warn once per helper\n    if (!isKnownOldStyleHelper) {\n      template.__helpers.set(name, Blaze._OLDSTYLE_HELPER);\n      if (!template._NOWARN_OLDSTYLE_HELPERS) {\n        Blaze._warn('Assigning helper with `' + template.viewName + '.' + name + ' = ...` is deprecated.  Use `' + template.viewName + '.helpers(...)` instead.');\n      }\n    }\n    if (template[name] != null) {\n      return wrapHelper(bindDataContext(template[name]), tmplInstanceFunc);\n    }\n  }\n  return null;\n};\nvar wrapHelper = function (f, templateFunc) {\n  if (typeof f !== \"function\") {\n    return f;\n  }\n  return function () {\n    var self = this;\n    var args = arguments;\n    return Blaze.Template._withTemplateInstanceFunc(templateFunc, function () {\n      return Blaze._wrapCatchingExceptions(f, 'template helper').apply(self, args);\n    });\n  };\n};\nfunction _lexicalKeepGoing(currentView) {\n  if (!currentView.parentView) {\n    return undefined;\n  }\n  if (!currentView.__startsNewLexicalScope) {\n    return currentView.parentView;\n  }\n  if (currentView.parentView.__childDoesntStartNewLexicalScope) {\n    return currentView.parentView;\n  }\n\n  // in the case of {{> Template.contentBlock data}} the contentBlock loses the lexical scope of it's parent, wheras {{> Template.contentBlock}} it does not\n  // this is because a #with sits between the include InOuterTemplateScope\n  if (currentView.parentView.name === \"with\" && currentView.parentView.parentView && currentView.parentView.parentView.__childDoesntStartNewLexicalScope) {\n    return currentView.parentView;\n  }\n  return undefined;\n}\nfunction _lexicalBindingLookup(view, name) {\n  var currentView = view;\n\n  // walk up the views stopping at a Spacebars.include or Template view that\n  // doesn't have an InOuterTemplateScope view as a parent\n  do {\n    // skip block helpers views\n    // if we found the binding on the scope, return it\n    if (has(currentView._scopeBindings, name)) {\n      return currentView._scopeBindings[name];\n    }\n  } while (currentView = _lexicalKeepGoing(currentView));\n  return null;\n}\nBlaze._lexicalBindingLookup = function (view, name) {\n  const binding = _lexicalBindingLookup(view, name);\n  return binding && (() => {\n    var _binding$get;\n    return (_binding$get = binding.get()) === null || _binding$get === void 0 ? void 0 : _binding$get.value;\n  });\n};\n\n// templateInstance argument is provided to be available for possible\n// alternative implementations of this function by 3rd party packages.\nBlaze._getTemplate = function (name, templateInstance) {\n  if (name in Blaze.Template && Blaze.Template[name] instanceof Blaze.Template) {\n    return Blaze.Template[name];\n  }\n  return null;\n};\nBlaze._getGlobalHelper = function (name, templateInstance) {\n  if (Blaze._globalHelpers[name] != null) {\n    return wrapHelper(bindDataContext(Blaze._globalHelpers[name]), templateInstance);\n  }\n  return null;\n};\n\n// Looks up a name, like \"foo\" or \"..\", as a helper of the\n// current template; the name of a template; a global helper;\n// or a property of the data context.  Called on the View of\n// a template (i.e. a View with a `.template` property,\n// where the helpers are).  Used for the first name in a\n// \"path\" in a template tag, like \"foo\" in `{{foo.bar}}` or\n// \"..\" in `{{frobulate ../blah}}`.\n//\n// Returns a function, a non-function value, or null.  If\n// a function is found, it is bound appropriately.\n//\n// NOTE: This function must not establish any reactive\n// dependencies itself.  If there is any reactivity in the\n// value, lookup should return a function.\nBlaze.View.prototype.lookup = function (name, _options) {\n  var template = this.template;\n  var lookupTemplate = _options && _options.template;\n  var helper;\n  var binding;\n  var boundTmplInstance;\n  var foundTemplate;\n  if (this.templateInstance) {\n    boundTmplInstance = Blaze._bind(this.templateInstance, this);\n  }\n\n  // 0. looking up the parent data context with the special \"../\" syntax\n  if (/^\\./.test(name)) {\n    // starts with a dot. must be a series of dots which maps to an\n    // ancestor of the appropriate height.\n    if (!/^(\\.)+$/.test(name)) throw new Error(\"id starting with dot must be a series of dots\");\n    return Blaze._parentData(name.length - 1, true /*_functionWrapped*/);\n  }\n\n  // 1. look up a helper on the current template\n  if (template && (helper = Blaze._getTemplateHelper(template, name, boundTmplInstance)) != null) {\n    return helper;\n  }\n\n  // 2. look up a binding by traversing the lexical view hierarchy inside the\n  // current template\n  if (template && (binding = Blaze._lexicalBindingLookup(Blaze.currentView, name)) != null) {\n    return binding;\n  }\n\n  // 3. look up a template by name\n  if (lookupTemplate && (foundTemplate = Blaze._getTemplate(name, boundTmplInstance)) != null) {\n    return foundTemplate;\n  }\n\n  // 4. look up a global helper\n  if ((helper = Blaze._getGlobalHelper(name, boundTmplInstance)) != null) {\n    return helper;\n  }\n\n  // 5. look up in a data context\n  return function () {\n    var isCalledAsFunction = arguments.length > 0;\n    var data = Blaze.getData();\n    var x = data && data[name];\n    if (!x) {\n      if (lookupTemplate) {\n        throw new Error(\"No such template: \" + name);\n      } else if (isCalledAsFunction) {\n        throw new Error(\"No such function: \" + name);\n      } else if (name.charAt(0) === '@' && (x === null || x === undefined)) {\n        // Throw an error if the user tries to use a `@directive`\n        // that doesn't exist.  We don't implement all directives\n        // from Handlebars, so there's a potential for confusion\n        // if we fail silently.  On the other hand, we want to\n        // throw late in case some app or package wants to provide\n        // a missing directive.\n        throw new Error(\"Unsupported directive: \" + name);\n      }\n    }\n    if (!data) {\n      return null;\n    }\n    if (typeof x !== 'function') {\n      if (isCalledAsFunction) {\n        throw new Error(\"Can't call non-function: \" + x);\n      }\n      return x;\n    }\n    return x.apply(data, arguments);\n  };\n};\n\n// Implement Spacebars' {{../..}}.\n// @param height {Number} The number of '..'s\nBlaze._parentData = function (height, _functionWrapped) {\n  // If height is null or undefined, we default to 1, the first parent.\n  if (height == null) {\n    height = 1;\n  }\n  var theWith = Blaze.getView('with');\n  for (var i = 0; i < height && theWith; i++) {\n    theWith = Blaze.getView(theWith, 'with');\n  }\n  if (!theWith) return null;\n  if (_functionWrapped) return function () {\n    return theWith.dataVar.get();\n  };\n  return theWith.dataVar.get();\n};\nBlaze.View.prototype.lookupTemplate = function (name) {\n  return this.lookup(name, {\n    template: true\n  });\n};","map":{"version":3,"names":["has","module","link","default","v","_createBindingsHelper","fn","_len","arguments","length","names","Array","_key","view","Blaze","currentView","Object","keys","_scopeBindings","slice","some","name","binding","_lexicalBindingLookup","Error","concat","get","_globalHelpers","undefined","registerHelper","func","deregisterHelper","bindIfIsFunction","x","target","_bind","bindDataContext","data","getData","apply","_OLDSTYLE_HELPER","_getTemplateHelper","template","tmplInstanceFunc","isKnownOldStyleHelper","__helpers","helper","wrapHelper","set","_NOWARN_OLDSTYLE_HELPERS","_warn","viewName","f","templateFunc","self","args","Template","_withTemplateInstanceFunc","_wrapCatchingExceptions","_lexicalKeepGoing","parentView","__startsNewLexicalScope","__childDoesntStartNewLexicalScope","_binding$get","value","_getTemplate","templateInstance","_getGlobalHelper","View","prototype","lookup","_options","lookupTemplate","boundTmplInstance","foundTemplate","test","_parentData","isCalledAsFunction","charAt","height","_functionWrapped","theWith","getView","i","dataVar"],"sources":["packages/blaze/lookup.js"],"sourcesContent":["import has from 'lodash.has';\n\n/** @param {(binding: Binding) => boolean} fn */\nfunction _createBindingsHelper(fn) {\n  /** @param {string[]} names */\n  return (...names) => {\n    const view = Blaze.currentView;\n\n    // There's either zero arguments (i.e., check all bindings) or an additional\n    // \"hash\" argument that we have to ignore.\n    names = names.length === 0\n      // TODO: Should we walk up the bindings here?\n      ? Object.keys(view._scopeBindings)\n      : names.slice(0, -1);\n\n    return names.some(name => {\n      const binding = _lexicalBindingLookup(view, name);\n      if (!binding) {\n        throw new Error(`Binding for \"${name}\" was not found.`);\n      }\n\n      return fn(binding.get());\n    });\n  };\n}\n\nBlaze._globalHelpers = {\n  /** @summary Check whether any of the given bindings (or all if none given) is still pending. */\n  '@pending': _createBindingsHelper(binding => binding === undefined),\n  /** @summary Check whether any of the given bindings (or all if none given) has rejected. */\n  '@rejected': _createBindingsHelper(binding => !!binding && 'error' in binding),\n  /** @summary Check whether any of the given bindings (or all if none given) has resolved. */\n  '@resolved': _createBindingsHelper(binding => !!binding && 'value' in binding),\n};\n\n// Documented as Template.registerHelper.\n// This definition also provides back-compat for `UI.registerHelper`.\nBlaze.registerHelper = function (name, func) {\n  Blaze._globalHelpers[name] = func;\n};\n\n// Also documented as Template.deregisterHelper\nBlaze.deregisterHelper = function(name) {\n  delete Blaze._globalHelpers[name];\n};\n\nvar bindIfIsFunction = function (x, target) {\n  if (typeof x !== 'function')\n    return x;\n  return Blaze._bind(x, target);\n};\n\n// If `x` is a function, binds the value of `this` for that function\n// to the current data context.\nvar bindDataContext = function (x) {\n  if (typeof x === 'function') {\n    return function () {\n      var data = Blaze.getData();\n      if (data == null)\n        data = {};\n      return x.apply(data, arguments);\n    };\n  }\n  return x;\n};\n\nBlaze._OLDSTYLE_HELPER = {};\n\nBlaze._getTemplateHelper = function (template, name, tmplInstanceFunc) {\n  // XXX COMPAT WITH 0.9.3\n  var isKnownOldStyleHelper = false;\n\n  if (template.__helpers.has(name)) {\n    var helper = template.__helpers.get(name);\n    if (helper === Blaze._OLDSTYLE_HELPER) {\n      isKnownOldStyleHelper = true;\n    } else if (helper != null) {\n      return wrapHelper(bindDataContext(helper), tmplInstanceFunc);\n    } else {\n      return null;\n    }\n  }\n\n  // old-style helper\n  if (name in template) {\n    // Only warn once per helper\n    if (! isKnownOldStyleHelper) {\n      template.__helpers.set(name, Blaze._OLDSTYLE_HELPER);\n      if (! template._NOWARN_OLDSTYLE_HELPERS) {\n        Blaze._warn('Assigning helper with `' + template.viewName + '.' +\n                    name + ' = ...` is deprecated.  Use `' + template.viewName +\n                    '.helpers(...)` instead.');\n      }\n    }\n    if (template[name] != null) {\n      return wrapHelper(bindDataContext(template[name]), tmplInstanceFunc);\n    }\n  }\n\n  return null;\n};\n\nvar wrapHelper = function (f, templateFunc) {\n  if (typeof f !== \"function\") {\n    return f;\n  }\n\n  return function () {\n    var self = this;\n    var args = arguments;\n\n    return Blaze.Template._withTemplateInstanceFunc(templateFunc, function () {\n      return Blaze._wrapCatchingExceptions(f, 'template helper').apply(self, args);\n    });\n  };\n};\n\nfunction _lexicalKeepGoing(currentView) {\n  if (!currentView.parentView) {\n    return undefined;\n  }\n  if (!currentView.__startsNewLexicalScope) {\n    return currentView.parentView;\n  }\n  if (currentView.parentView.__childDoesntStartNewLexicalScope) {\n    return currentView.parentView;\n  }\n  \n  // in the case of {{> Template.contentBlock data}} the contentBlock loses the lexical scope of it's parent, wheras {{> Template.contentBlock}} it does not\n  // this is because a #with sits between the include InOuterTemplateScope\n  if (currentView.parentView.name === \"with\" && currentView.parentView.parentView && currentView.parentView.parentView.__childDoesntStartNewLexicalScope) {\n    return currentView.parentView;\n  }\n  return undefined;\n}\n\nfunction _lexicalBindingLookup(view, name) {\n  var currentView = view;\n\n  // walk up the views stopping at a Spacebars.include or Template view that\n  // doesn't have an InOuterTemplateScope view as a parent\n  do {\n    // skip block helpers views\n    // if we found the binding on the scope, return it\n    if (has(currentView._scopeBindings, name)) {\n      return currentView._scopeBindings[name];\n    }\n  } while (currentView = _lexicalKeepGoing(currentView));\n\n  return null;\n}\n\nBlaze._lexicalBindingLookup = function (view, name) {\n  const binding = _lexicalBindingLookup(view, name);\n  return binding && (() => binding.get()?.value);\n};\n\n// templateInstance argument is provided to be available for possible\n// alternative implementations of this function by 3rd party packages.\nBlaze._getTemplate = function (name, templateInstance) {\n  if ((name in Blaze.Template) && (Blaze.Template[name] instanceof Blaze.Template)) {\n    return Blaze.Template[name];\n  }\n  return null;\n};\n\nBlaze._getGlobalHelper = function (name, templateInstance) {\n  if (Blaze._globalHelpers[name] != null) {\n    return wrapHelper(bindDataContext(Blaze._globalHelpers[name]), templateInstance);\n  }\n  return null;\n};\n\n// Looks up a name, like \"foo\" or \"..\", as a helper of the\n// current template; the name of a template; a global helper;\n// or a property of the data context.  Called on the View of\n// a template (i.e. a View with a `.template` property,\n// where the helpers are).  Used for the first name in a\n// \"path\" in a template tag, like \"foo\" in `{{foo.bar}}` or\n// \"..\" in `{{frobulate ../blah}}`.\n//\n// Returns a function, a non-function value, or null.  If\n// a function is found, it is bound appropriately.\n//\n// NOTE: This function must not establish any reactive\n// dependencies itself.  If there is any reactivity in the\n// value, lookup should return a function.\nBlaze.View.prototype.lookup = function (name, _options) {\n  var template = this.template;\n  var lookupTemplate = _options && _options.template;\n  var helper;\n  var binding;\n  var boundTmplInstance;\n  var foundTemplate;\n\n  if (this.templateInstance) {\n    boundTmplInstance = Blaze._bind(this.templateInstance, this);\n  }\n\n  // 0. looking up the parent data context with the special \"../\" syntax\n  if (/^\\./.test(name)) {\n    // starts with a dot. must be a series of dots which maps to an\n    // ancestor of the appropriate height.\n    if (!/^(\\.)+$/.test(name))\n      throw new Error(\"id starting with dot must be a series of dots\");\n\n    return Blaze._parentData(name.length - 1, true /*_functionWrapped*/);\n\n  }\n\n  // 1. look up a helper on the current template\n  if (template && ((helper = Blaze._getTemplateHelper(template, name, boundTmplInstance)) != null)) {\n    return helper;\n  }\n\n  // 2. look up a binding by traversing the lexical view hierarchy inside the\n  // current template\n  if (template && (binding = Blaze._lexicalBindingLookup(Blaze.currentView, name)) != null) {\n    return binding;\n  }\n\n  // 3. look up a template by name\n  if (lookupTemplate && ((foundTemplate = Blaze._getTemplate(name, boundTmplInstance)) != null)) {\n    return foundTemplate;\n  }\n\n  // 4. look up a global helper\n  if ((helper = Blaze._getGlobalHelper(name, boundTmplInstance)) != null) {\n    return helper;\n  }\n\n  // 5. look up in a data context\n  return function () {\n    var isCalledAsFunction = (arguments.length > 0);\n    var data = Blaze.getData();\n    var x = data && data[name];\n    if (! x) {\n      if (lookupTemplate) {\n        throw new Error(\"No such template: \" + name);\n      } else if (isCalledAsFunction) {\n        throw new Error(\"No such function: \" + name);\n      } else if (name.charAt(0) === '@' && ((x === null) ||\n                                            (x === undefined))) {\n        // Throw an error if the user tries to use a `@directive`\n        // that doesn't exist.  We don't implement all directives\n        // from Handlebars, so there's a potential for confusion\n        // if we fail silently.  On the other hand, we want to\n        // throw late in case some app or package wants to provide\n        // a missing directive.\n        throw new Error(\"Unsupported directive: \" + name);\n      }\n    }\n    if (! data) {\n      return null;\n    }\n    if (typeof x !== 'function') {\n      if (isCalledAsFunction) {\n        throw new Error(\"Can't call non-function: \" + x);\n      }\n      return x;\n    }\n    return x.apply(data, arguments);\n  };\n};\n\n// Implement Spacebars' {{../..}}.\n// @param height {Number} The number of '..'s\nBlaze._parentData = function (height, _functionWrapped) {\n  // If height is null or undefined, we default to 1, the first parent.\n  if (height == null) {\n    height = 1;\n  }\n  var theWith = Blaze.getView('with');\n  for (var i = 0; (i < height) && theWith; i++) {\n    theWith = Blaze.getView(theWith, 'with');\n  }\n\n  if (! theWith)\n    return null;\n  if (_functionWrapped)\n    return function () { return theWith.dataVar.get(); };\n  return theWith.dataVar.get();\n};\n\n\nBlaze.View.prototype.lookupTemplate = function (name) {\n  return this.lookup(name, {template:true});\n};\n"],"mappings":"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"},"sourceType":"module","externalDependencies":{},"hash":"796839d956bae003dfdd0a9d591bf1a08a8272aa"}
