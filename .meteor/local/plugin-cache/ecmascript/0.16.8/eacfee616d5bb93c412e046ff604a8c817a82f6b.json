{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"D:\\mergerware\\loan-management-app\\packages\\accounts-ui-unstyled\\login_buttons_dropdown.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/accounts-ui-unstyled/login_buttons_dropdown.js","filename":"D:\\mergerware\\loan-management-app\\packages\\accounts-ui-unstyled\\login_buttons_dropdown.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"D:\\mergerware\\loan-management-app","root":"D:\\mergerware\\loan-management-app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true},"externalDependencies":[]},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"version":"7.17.2","helpers":true,"useESModules":false,"corejs":false},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true},"externalDependencies":[]},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-jsx","visitor":{"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXFragment":{"exit":[null]},"JSXElement":{"exit":[null]},"JSXAttribute":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false},"externalDependencies":[]},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-nullish-coalescing-operator","visitor":{"LogicalExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-chaining","visitor":{"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-optional-catch-binding","visitor":{"CatchClause":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-class-properties","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-async-generator-functions","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"proposal-logical-assignment-operators","visitor":{"AssignmentExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null,null]},"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"DoWhileStatement":{"exit":[null]},"ForInStatement":{"exit":[null]},"ForStatement":{"exit":[null]},"WhileStatement":{"exit":[null]},"ForOfStatement":{"exit":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true},"externalDependencies":[]},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{},"externalDependencies":[]},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]},{"key":"transform-regenerator","visitor":{"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"MemberExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{},"externalDependencies":[]}],"presets":[],"generatorOpts":{"filename":"D:\\mergerware\\loan-management-app\\packages\\accounts-ui-unstyled\\login_buttons_dropdown.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/accounts-ui-unstyled/login_buttons_dropdown.js"}},"code":"var passwordlessSignupFields, passwordSignupFields;\nmodule.link(\"./accounts_ui.js\", {\n  passwordlessSignupFields: function (v) {\n    passwordlessSignupFields = v;\n  },\n  passwordSignupFields: function (v) {\n    passwordSignupFields = v;\n  }\n}, 0);\nvar displayName, getLoginServices, hasPasswordService, hasPasswordlessService, validateUsername, validateEmail, validatePassword;\nmodule.link(\"./login_buttons.js\", {\n  displayName: function (v) {\n    displayName = v;\n  },\n  getLoginServices: function (v) {\n    getLoginServices = v;\n  },\n  hasPasswordService: function (v) {\n    hasPasswordService = v;\n  },\n  hasPasswordlessService: function (v) {\n    hasPasswordlessService = v;\n  },\n  validateUsername: function (v) {\n    validateUsername = v;\n  },\n  validateEmail: function (v) {\n    validateEmail = v;\n  },\n  validatePassword: function (v) {\n    validatePassword = v;\n  }\n}, 1);\n// for convenience\nvar loginButtonsSession = Accounts._loginButtonsSession;\n\n//\n// helpers\n//\n\nvar elementValueById = function (id) {\n  var element = document.getElementById(id);\n  if (!element) return null;else return element.value;\n};\nvar trimmedElementValueById = function (id) {\n  var element = document.getElementById(id);\n  if (!element) return null;else return element.value.replace(/^\\s*|\\s*$/g, \"\"); // trim() doesn't work on IE8;\n};\nvar loginOrSignup = function () {\n  if (loginButtonsSession.get('inSignupFlow')) signup();else login();\n};\nvar loginOrSignupPasswordless = function () {\n  loginButtonsSession.resetMessages();\n  if (loginButtonsSession.get('inPasswordlessConfirmation')) {\n    var token = trimmedElementValueById('login-code-passwordless');\n    Meteor.passwordlessLoginWithToken({\n      email: loginButtonsSession.get('passwordlessCodeEmail')\n    }, token, function (error) {\n      if (error) {\n        loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n      } else {\n        loginButtonsSession.set('inPasswordlessConfirmation', false);\n        loginButtonsSession.set('passwordlessCodeEmail', null);\n      }\n    });\n    return;\n  }\n  var email = trimmedElementValueById('login-email-passwordless');\n  var username = trimmedElementValueById('login-username-passwordless');\n  if (!email.includes('@')) {\n    loginButtonsSession.errorMessage(\"Invalid email\");\n    return;\n  }\n  if (Accounts._options.forbidClientAccountCreation) {\n    loginButtonsSession.errorMessage(\"Action not allowed\");\n    return;\n  }\n  if (username !== null && !validateUsername(username)) {\n    return;\n  }\n  Accounts.requestLoginTokenForUser({\n    selector: email,\n    userData: {\n      email: email,\n      username: username\n    }\n  }, function (error, result) {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      var _result$selector;\n      loginButtonsSession.set('inPasswordlessConfirmation', true);\n      loginButtonsSession.set('inSignupFlow', false);\n      loginButtonsSession.set('passwordlessCodeEmail', result === null || result === void 0 ? void 0 : (_result$selector = result.selector) === null || _result$selector === void 0 ? void 0 : _result$selector.email);\n    }\n  });\n};\nvar login = function () {\n  loginButtonsSession.resetMessages();\n  var username = trimmedElementValueById('login-username');\n  var email = trimmedElementValueById('login-email');\n  var usernameOrEmail = trimmedElementValueById('login-username-or-email');\n  // notably not trimmed. a password could (?) start or end with a space\n  var password = elementValueById('login-password');\n  var loginSelector;\n  if (username !== null) {\n    if (!validateUsername(username)) return;else loginSelector = {\n      username: username\n    };\n  } else if (email !== null) {\n    if (!validateEmail(email)) return;else loginSelector = {\n      email: email\n    };\n  } else if (usernameOrEmail !== null) {\n    // XXX not sure how we should validate this. but this seems good enough (for now),\n    // since an email must have at least 3 characters anyways\n    if (!validateUsername(usernameOrEmail)) return;else loginSelector = usernameOrEmail;\n  } else {\n    throw new Error(\"Unexpected -- no element to use as a login user selector\");\n  }\n  Meteor.loginWithPassword(loginSelector, password, function (error, result) {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.closeDropdown();\n    }\n  });\n};\nvar signup = function () {\n  loginButtonsSession.resetMessages();\n  var options = {}; // to be passed to Accounts.createUser\n\n  var username = trimmedElementValueById('login-username');\n  if (username !== null) {\n    if (!validateUsername(username)) return;else options.username = username;\n  }\n  var email = trimmedElementValueById('login-email');\n  if (email !== null) {\n    if (!validateEmail(email)) return;else options.email = email;\n  }\n\n  // notably not trimmed. a password could (?) start or end with a space\n  var password = elementValueById('login-password');\n  if (!validatePassword(password)) return;else options.password = password;\n  if (!matchPasswordAgainIfPresent()) return;\n  Accounts.createUser(options, function (error) {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.closeDropdown();\n    }\n  });\n};\nvar forgotPassword = function () {\n  loginButtonsSession.resetMessages();\n  var email = trimmedElementValueById(\"forgot-password-email\");\n  if (email.includes('@')) {\n    Accounts.forgotPassword({\n      email: email\n    }, function (error) {\n      if (error) loginButtonsSession.errorMessage(error.reason || \"Unknown error\");else loginButtonsSession.infoMessage(\"Email sent\");\n    });\n  } else {\n    loginButtonsSession.errorMessage(\"Invalid email\");\n  }\n};\nvar changePassword = function () {\n  loginButtonsSession.resetMessages();\n\n  // notably not trimmed. a password could (?) start or end with a space\n  var oldPassword = elementValueById('login-old-password');\n\n  // notably not trimmed. a password could (?) start or end with a space\n  var password = elementValueById('login-password');\n  if (!validatePassword(password)) return;\n  if (!matchPasswordAgainIfPresent()) return;\n  Accounts.changePassword(oldPassword, password, function (error) {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.set('inChangePasswordFlow', false);\n      loginButtonsSession.set('inMessageOnlyFlow', true);\n      loginButtonsSession.infoMessage(\"Password changed\");\n    }\n  });\n};\nvar matchPasswordAgainIfPresent = function () {\n  // notably not trimmed. a password could (?) start or end with a space\n  var passwordAgain = elementValueById('login-password-again');\n  if (passwordAgain !== null) {\n    // notably not trimmed. a password could (?) start or end with a space\n    var password = elementValueById('login-password');\n    if (password !== passwordAgain) {\n      loginButtonsSession.errorMessage(\"Passwords don't match\");\n      return false;\n    }\n  }\n  return true;\n};\n\n// Utility containment function that works with both arrays and single values\nvar isInPasswordSignupFields = function (fieldOrFields) {\n  var signupFields = passwordSignupFields();\n  if (Array.isArray(fieldOrFields)) {\n    return signupFields.reduce(function (prev, field) {\n      return prev && fieldOrFields.includes(field);\n    }, true);\n  }\n  return signupFields.includes(fieldOrFields);\n};\nvar isInPasswordlessSignupFields = function (fieldOrFields) {\n  var signupFields = passwordlessSignupFields();\n  if (Array.isArray(fieldOrFields)) {\n    return signupFields.reduce(function (prev, field) {\n      return prev && fieldOrFields.includes(field);\n    }, true);\n  }\n  return signupFields.includes(fieldOrFields);\n};\n\n// events shared between loginButtonsLoggedOutDropdown and\n// loginButtonsLoggedInDropdown\nTemplate.loginButtons.events({\n  'click #login-name-link, click #login-sign-in-link': function () {\n    return loginButtonsSession.set('dropdownVisible', true);\n  },\n  'click .login-close-text': loginButtonsSession.closeDropdown\n});\n\n//\n// loginButtonsLoggedInDropdown template and related\n//\n\nTemplate._loginButtonsLoggedInDropdown.events({\n  'click #login-buttons-open-change-password': function () {\n    loginButtonsSession.resetMessages();\n    loginButtonsSession.set('inChangePasswordFlow', true);\n  }\n});\nTemplate._loginButtonsLoggedInDropdown.helpers({\n  displayName: displayName,\n  inChangePasswordFlow: function () {\n    return loginButtonsSession.get('inChangePasswordFlow');\n  },\n  inMessageOnlyFlow: function () {\n    return loginButtonsSession.get('inMessageOnlyFlow');\n  },\n  dropdownVisible: function () {\n    return loginButtonsSession.get('dropdownVisible');\n  }\n});\nTemplate._loginButtonsLoggedInDropdownActions.helpers({\n  allowChangingPassword: function () {\n    // it would be more correct to check whether the user has a password set,\n    // but in order to do that we'd have to send more data down to the client,\n    // and it'd be preferable not to send down the entire service.password document.\n    //\n    // instead we use the heuristic: if the user has a username or email set.\n    if (!Package['accounts-password']) return false;\n    var user = Meteor.user();\n    return user.username || user.emails && user.emails[0] && user.emails[0].address;\n  }\n});\n\n//\n// loginButtonsLoggedOutDropdown template and related\n//\n\nTemplate._loginButtonsLoggedOutDropdown.events({\n  'click #login-buttons-password': function (event) {\n    event.preventDefault();\n    loginOrSignup();\n  },\n  'click #login-buttons-passwordless': function (event) {\n    event.preventDefault();\n    loginOrSignupPasswordless();\n  },\n  'keypress #forgot-password-email': function (event) {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      forgotPassword();\n    }\n  },\n  'click #login-buttons-forgot-password': forgotPassword,\n  'click #signup-link': function () {\n    loginButtonsSession.resetMessages();\n\n    // store values of fields before swtiching to the signup form\n    var username = trimmedElementValueById('login-username');\n    var email = trimmedElementValueById('login-email');\n    var usernameOrEmail = trimmedElementValueById('login-username-or-email');\n    // notably not trimmed. a password could (?) start or end with a space\n    var password = elementValueById('login-password');\n    loginButtonsSession.set('inSignupFlow', true);\n    loginButtonsSession.set('inForgotPasswordFlow', false);\n    // force the ui to update so that we have the approprate fields to fill in\n    Tracker.flush();\n\n    // update new fields with appropriate defaults\n    if (username !== null) document.getElementById('login-username').value = username;else if (email !== null) document.getElementById('login-email').value = email;else if (usernameOrEmail !== null) if (!usernameOrEmail.includes('@')) document.getElementById('login-username').value = usernameOrEmail;else document.getElementById('login-email').value = usernameOrEmail;\n    if (password !== null) document.getElementById('login-password').value = password;\n\n    // Force redrawing the `login-dropdown-list` element because of\n    // a bizarre Chrome bug in which part of the DIV is not redrawn\n    // in case you had tried to unsuccessfully log in before\n    // switching to the signup form.\n    //\n    // Found tip on how to force a redraw on\n    // http://stackoverflow.com/questions/3485365/how-can-i-force-webkit-to-redraw-repaint-to-propagate-style-changes/3485654#3485654\n    var redraw = document.getElementById('login-dropdown-list');\n    redraw.style.display = 'none';\n    redraw.offsetHeight; // it seems that this line does nothing but is necessary for the redraw to work\n    redraw.style.display = 'block';\n  },\n  'click #forgot-password-link': function () {\n    loginButtonsSession.resetMessages();\n\n    // store values of fields before swtiching to the signup form\n    var email = trimmedElementValueById('login-email');\n    var usernameOrEmail = trimmedElementValueById('login-username-or-email');\n    loginButtonsSession.set('inSignupFlow', false);\n    loginButtonsSession.set('inForgotPasswordFlow', true);\n    // force the ui to update so that we have the approprate fields to fill in\n    Tracker.flush();\n\n    // update new fields with appropriate defaults\n    if (email !== null) document.getElementById('forgot-password-email').value = email;else if (usernameOrEmail !== null) if (usernameOrEmail.includes('@')) document.getElementById('forgot-password-email').value = usernameOrEmail;\n  },\n  'click #resend-passwordless-code': function () {\n    loginButtonsSession.set('inPasswordlessConfirmation', false);\n    loginButtonsSession.set('passwordlessCodeEmail', null);\n  },\n  'click #back-to-login-link': function () {\n    loginButtonsSession.resetMessages();\n    var username = trimmedElementValueById('login-username');\n    var email = trimmedElementValueById('login-email') || trimmedElementValueById('forgot-password-email'); // Ughh. Standardize on names?\n    // notably not trimmed. a password could (?) start or end with a space\n    var password = elementValueById('login-password');\n    loginButtonsSession.set('inSignupFlow', false);\n    loginButtonsSession.set('inForgotPasswordFlow', false);\n    // force the ui to update so that we have the approprate fields to fill in\n    Tracker.flush();\n    if (document.getElementById('login-username') && username !== null) document.getElementById('login-username').value = username;\n    if (document.getElementById('login-email') && email !== null) document.getElementById('login-email').value = email;\n    var usernameOrEmailInput = document.getElementById('login-username-or-email');\n    if (usernameOrEmailInput) {\n      if (email !== null) usernameOrEmailInput.value = email;\n      if (username !== null) usernameOrEmailInput.value = username;\n    }\n    if (password !== null) document.getElementById('login-password').value = password;\n  }\n});\nTemplate._loginButtonsLoggedOutDropdown.helpers({\n  // additional classes that can be helpful in styling the dropdown\n  additionalClasses: function () {\n    if (!hasPasswordService() || !hasPasswordlessService()) {\n      return false;\n    } else {\n      if (loginButtonsSession.get('inSignupFlow')) {\n        return 'login-form-create-account';\n      } else if (loginButtonsSession.get('inForgotPasswordFlow')) {\n        return 'login-form-forgot-password';\n      } else {\n        return 'login-form-sign-in';\n      }\n    }\n  },\n  dropdownVisible: function () {\n    return loginButtonsSession.get('dropdownVisible');\n  },\n  hasPasswordService: hasPasswordService,\n  hasPasswordlessService: hasPasswordlessService\n});\n\n// return all login services, with password last\nTemplate._loginButtonsLoggedOutAllServices.helpers({\n  services: getLoginServices,\n  isPasswordService: function () {\n    return this.name === 'password';\n  },\n  isPasswordlessService: function () {\n    return this.name === 'passwordless';\n  },\n  hasOtherServices: function () {\n    var count = 0;\n    if (hasPasswordlessService()) count++;\n    if (hasPasswordService()) count++;\n    return getLoginServices().length > count;\n  },\n  displaySeparatorForPasswordless: function () {\n    return hasPasswordService() || getLoginServices().length > 1;\n  },\n  isInternalService: function () {\n    return this.name === 'password' || this.name === 'passwordless';\n  },\n  hasInternalService: function () {\n    return hasPasswordService() || hasPasswordlessService();\n  },\n  hasPasswordService: hasPasswordService,\n  hasPasswordlessService: hasPasswordlessService\n});\nTemplate._loginButtonsLoggedOutPasswordlessService.helpers({\n  fields: function () {\n    return [{\n      fieldName: 'email-passwordless',\n      fieldLabel: 'Email',\n      autocomplete: 'email',\n      inputType: 'email',\n      visible: function () {\n        return !loginButtonsSession.get('inPasswordlessConfirmation');\n      }\n    }, {\n      fieldName: 'username-passwordless',\n      fieldLabel: 'Username',\n      autocomplete: 'username',\n      inputType: 'text',\n      visible: function () {\n        return isInPasswordlessSignupFields('USERNAME_AND_EMAIL') && loginButtonsSession.get('inSignupFlow');\n      }\n    }, {\n      fieldName: 'code-passwordless',\n      fieldLabel: 'Code',\n      inputType: 'text',\n      visible: function () {\n        return loginButtonsSession.get('inPasswordlessConfirmation');\n      }\n    }];\n  },\n  inForgotPasswordFlow: function () {\n    return loginButtonsSession.get('inForgotPasswordFlow');\n  },\n  inPasswordlessConfirmation: function () {\n    return loginButtonsSession.get('inPasswordlessConfirmation');\n  },\n  inLoginFlow: function () {\n    return !loginButtonsSession.get('inSignupFlow') && !loginButtonsSession.get('inForgotPasswordFlow');\n  },\n  inSignupFlow: function () {\n    return loginButtonsSession.get('inSignupFlow');\n  },\n  showCreateAccountLink: function () {\n    return !Accounts._options.forbidClientAccountCreation;\n  }\n});\nTemplate._loginButtonsLoggedOutPasswordService.helpers({\n  fields: function () {\n    var loginFields = [{\n      fieldName: 'username-or-email',\n      fieldLabel: 'Username or Email',\n      autocomplete: 'username email',\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_EMAIL\", \"USERNAME_AND_OPTIONAL_EMAIL\"]);\n      }\n    }, {\n      fieldName: 'username',\n      fieldLabel: 'Username',\n      autocomplete: 'username',\n      visible: function () {\n        return isInPasswordSignupFields(\"USERNAME_ONLY\");\n      }\n    }, {\n      fieldName: 'email',\n      fieldLabel: 'Email',\n      inputType: 'email',\n      autocomplete: 'email',\n      visible: function () {\n        return isInPasswordSignupFields(\"EMAIL_ONLY\");\n      }\n    }, {\n      fieldName: 'password',\n      fieldLabel: 'Password',\n      inputType: 'password',\n      autocomplete: 'current-password',\n      visible: function () {\n        return true;\n      }\n    }];\n    var signupFields = [{\n      fieldName: 'username',\n      fieldLabel: 'Username',\n      autocomplete: 'username',\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_EMAIL\", \"USERNAME_AND_OPTIONAL_EMAIL\", \"USERNAME_ONLY\"]);\n      }\n    }, {\n      fieldName: 'email',\n      fieldLabel: 'Email',\n      inputType: 'email',\n      autocomplete: 'email',\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_EMAIL\", \"EMAIL_ONLY\"]);\n      }\n    }, {\n      fieldName: 'email',\n      fieldLabel: 'Email (optional)',\n      inputType: 'email',\n      autocomplete: 'email',\n      visible: function () {\n        return isInPasswordSignupFields(\"USERNAME_AND_OPTIONAL_EMAIL\");\n      }\n    }, {\n      fieldName: 'password',\n      fieldLabel: 'Password',\n      inputType: 'password',\n      autocomplete: 'new-password',\n      visible: function () {\n        return true;\n      }\n    }, {\n      fieldName: 'password-again',\n      fieldLabel: 'Password (again)',\n      inputType: 'password',\n      autocomplete: 'new-password',\n      // No need to make users double-enter their password if\n      // they'll necessarily have an email set, since they can use\n      // the \"forgot password\" flow.\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_OPTIONAL_EMAIL\", \"USERNAME_ONLY\"]);\n      }\n    }];\n    return loginButtonsSession.get('inSignupFlow') ? signupFields : loginFields;\n  },\n  inForgotPasswordFlow: function () {\n    return loginButtonsSession.get('inForgotPasswordFlow');\n  },\n  inLoginFlow: function () {\n    return !loginButtonsSession.get('inSignupFlow') && !loginButtonsSession.get('inForgotPasswordFlow');\n  },\n  inSignupFlow: function () {\n    return loginButtonsSession.get('inSignupFlow');\n  },\n  showCreateAccountLink: function () {\n    return !Accounts._options.forbidClientAccountCreation;\n  },\n  showForgotPasswordLink: function () {\n    return isInPasswordSignupFields([\"USERNAME_AND_EMAIL\", \"USERNAME_AND_OPTIONAL_EMAIL\", \"EMAIL_ONLY\"]);\n  }\n});\nTemplate._loginButtonsFormField.helpers({\n  inputType: function () {\n    return this.inputType || \"text\";\n  }\n});\n\n//\n// loginButtonsChangePassword template\n//\n\nTemplate._loginButtonsChangePassword.events({\n  'keypress #login-old-password, keypress #login-password, keypress #login-password-again': function (event) {\n    if (event.keyCode === 13) changePassword();\n  },\n  'click #login-buttons-do-change-password': changePassword\n});\nTemplate._loginButtonsChangePassword.helpers({\n  fields: function () {\n    var _Meteor$user = Meteor.user(),\n      username = _Meteor$user.username,\n      emails = _Meteor$user.emails;\n    var email;\n    if (emails) {\n      email = emails[0].address;\n    }\n    return [\n    // The username and email fields are included here to address an\n    // accessibility warning in Chrome, but the fields don't actually display.\n    // The warning states that there should be an optionally hidden\n    // username/email field on password forms.\n    // XXX I think we should not use a CSS class here because this is the\n    // `unstyled` package. So instead we apply an inline style.\n    {\n      fieldName: 'username',\n      fieldLabel: 'Username',\n      autocomplete: 'username',\n      fieldStyle: 'display: none;',\n      fieldValue: username,\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_EMAIL\", \"USERNAME_AND_OPTIONAL_EMAIL\", \"USERNAME_ONLY\"]);\n      }\n    }, {\n      fieldName: 'email',\n      fieldLabel: 'Email',\n      inputType: 'email',\n      autocomplete: 'email',\n      fieldStyle: 'display: none;',\n      fieldValue: email,\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_EMAIL\", \"EMAIL_ONLY\"]);\n      }\n    }, {\n      fieldName: 'old-password',\n      fieldLabel: 'Current Password',\n      inputType: 'password',\n      autocomplete: 'current-password',\n      visible: function () {\n        return true;\n      }\n    }, {\n      fieldName: 'password',\n      fieldLabel: 'New Password',\n      inputType: 'password',\n      autocomplete: 'new-password',\n      visible: function () {\n        return true;\n      }\n    }, {\n      fieldName: 'password-again',\n      fieldLabel: 'New Password (again)',\n      inputType: 'password',\n      autocomplete: 'new-password',\n      // No need to make users double-enter their password if\n      // they'll necessarily have an email set, since they can use\n      // the \"forgot password\" flow.\n      visible: function () {\n        return isInPasswordSignupFields([\"USERNAME_AND_OPTIONAL_EMAIL\", \"USERNAME_ONLY\"]);\n      }\n    }];\n  }\n});","map":{"version":3,"names":["passwordlessSignupFields","passwordSignupFields","module","link","v","displayName","getLoginServices","hasPasswordService","hasPasswordlessService","validateUsername","validateEmail","validatePassword","loginButtonsSession","Accounts","_loginButtonsSession","elementValueById","id","element","document","getElementById","value","trimmedElementValueById","replace","loginOrSignup","get","signup","login","loginOrSignupPasswordless","resetMessages","token","Meteor","passwordlessLoginWithToken","email","error","errorMessage","reason","set","username","includes","_options","forbidClientAccountCreation","requestLoginTokenForUser","selector","userData","result","_result$selector","usernameOrEmail","password","loginSelector","Error","loginWithPassword","closeDropdown","options","matchPasswordAgainIfPresent","createUser","forgotPassword","infoMessage","changePassword","oldPassword","passwordAgain","isInPasswordSignupFields","fieldOrFields","signupFields","Array","isArray","reduce","prev","field","isInPasswordlessSignupFields","Template","loginButtons","events","click #login-name-link, click #login-sign-in-link","_loginButtonsLoggedInDropdown","click #login-buttons-open-change-password","helpers","inChangePasswordFlow","inMessageOnlyFlow","dropdownVisible","_loginButtonsLoggedInDropdownActions","allowChangingPassword","Package","user","emails","address","_loginButtonsLoggedOutDropdown","click #login-buttons-password","event","preventDefault","click #login-buttons-passwordless","keypress #forgot-password-email","keyCode","click #signup-link","Tracker","flush","redraw","style","display","offsetHeight","click #forgot-password-link","click #resend-passwordless-code","click #back-to-login-link","usernameOrEmailInput","additionalClasses","_loginButtonsLoggedOutAllServices","services","isPasswordService","name","isPasswordlessService","hasOtherServices","count","length","displaySeparatorForPasswordless","isInternalService","hasInternalService","_loginButtonsLoggedOutPasswordlessService","fields","fieldName","fieldLabel","autocomplete","inputType","visible","inForgotPasswordFlow","inPasswordlessConfirmation","inLoginFlow","inSignupFlow","showCreateAccountLink","_loginButtonsLoggedOutPasswordService","loginFields","showForgotPasswordLink","_loginButtonsFormField","_loginButtonsChangePassword","keypress #login-old-password, keypress #login-password, keypress #login-password-again","_Meteor$user","fieldStyle","fieldValue"],"sources":["packages/accounts-ui-unstyled/login_buttons_dropdown.js"],"sourcesContent":["import {passwordlessSignupFields, passwordSignupFields} from './accounts_ui.js';\nimport {\n  displayName,\n  getLoginServices,\n  hasPasswordService,\n  hasPasswordlessService,\n  validateUsername,\n  validateEmail,\n  validatePassword,\n} from './login_buttons.js';\n\n// for convenience\nconst loginButtonsSession = Accounts._loginButtonsSession;\n\n//\n// helpers\n//\n\nconst elementValueById = id => {\n  const element = document.getElementById(id);\n  if (!element)\n    return null;\n  else\n    return element.value;\n};\n\nconst trimmedElementValueById = id => {\n  const element = document.getElementById(id);\n  if (!element)\n    return null;\n  else\n    return element.value.replace(/^\\s*|\\s*$/g, \"\"); // trim() doesn't work on IE8;\n};\n\nconst loginOrSignup = () => {\n  if (loginButtonsSession.get('inSignupFlow'))\n    signup();\n  else\n    login();\n};\n\nconst loginOrSignupPasswordless = () => {\n  loginButtonsSession.resetMessages();\n\n  if (loginButtonsSession.get('inPasswordlessConfirmation')) {\n    const token = trimmedElementValueById('login-code-passwordless');\n    Meteor.passwordlessLoginWithToken({ email: loginButtonsSession.get('passwordlessCodeEmail') }, token, (error) => {\n      if (error) {\n        loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n      } else {\n        loginButtonsSession.set('inPasswordlessConfirmation', false);\n        loginButtonsSession.set('passwordlessCodeEmail', null);\n      }\n    });\n\n    return;\n  }\n\n  const email = trimmedElementValueById('login-email-passwordless');\n  const username = trimmedElementValueById('login-username-passwordless');\n\n  if (!email.includes('@')) {\n    loginButtonsSession.errorMessage(\"Invalid email\");\n    return;\n  }\n  if (Accounts._options.forbidClientAccountCreation) {\n    loginButtonsSession.errorMessage(\"Action not allowed\");\n    return;\n  }\n\n  if (username !== null && !validateUsername(username)) {\n    return;\n  }\n\n  Accounts.requestLoginTokenForUser({ selector: email, userData: { email, username } }, (error, result) => {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.set('inPasswordlessConfirmation', true);\n      loginButtonsSession.set('inSignupFlow', false);\n      loginButtonsSession.set('passwordlessCodeEmail', result?.selector?.email);\n    }\n  });\n}\n\nconst login = () => {\n  loginButtonsSession.resetMessages();\n\n  const username = trimmedElementValueById('login-username');\n  const email = trimmedElementValueById('login-email');\n  const usernameOrEmail = trimmedElementValueById('login-username-or-email');\n  // notably not trimmed. a password could (?) start or end with a space\n  const password = elementValueById('login-password');\n\n  let loginSelector;\n  if (username !== null) {\n    if (!validateUsername(username))\n      return;\n    else\n      loginSelector = {username: username};\n  } else if (email !== null) {\n    if (!validateEmail(email))\n      return;\n    else\n      loginSelector = {email: email};\n  } else if (usernameOrEmail !== null) {\n    // XXX not sure how we should validate this. but this seems good enough (for now),\n    // since an email must have at least 3 characters anyways\n    if (!validateUsername(usernameOrEmail))\n      return;\n    else\n      loginSelector = usernameOrEmail;\n  } else {\n    throw new Error(\"Unexpected -- no element to use as a login user selector\");\n  }\n\n  Meteor.loginWithPassword(loginSelector, password, (error, result) => {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.closeDropdown();\n    }\n  });\n};\n\nconst signup = () => {\n  loginButtonsSession.resetMessages();\n\n  const options = {}; // to be passed to Accounts.createUser\n\n  const username = trimmedElementValueById('login-username');\n  if (username !== null) {\n    if (!validateUsername(username))\n      return;\n    else\n      options.username = username;\n  }\n\n  const email = trimmedElementValueById('login-email');\n  if (email !== null) {\n    if (!validateEmail(email))\n      return;\n    else\n      options.email = email;\n  }\n\n  // notably not trimmed. a password could (?) start or end with a space\n  const password = elementValueById('login-password');\n  if (!validatePassword(password))\n    return;\n  else\n    options.password = password;\n\n  if (!matchPasswordAgainIfPresent())\n    return;\n\n  Accounts.createUser(options, error => {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.closeDropdown();\n    }\n  });\n};\n\nconst forgotPassword = () => {\n  loginButtonsSession.resetMessages();\n\n  const email = trimmedElementValueById(\"forgot-password-email\");\n  if (email.includes('@')) {\n    Accounts.forgotPassword({email: email}, error => {\n      if (error)\n        loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n      else\n        loginButtonsSession.infoMessage(\"Email sent\");\n    });\n  } else {\n    loginButtonsSession.errorMessage(\"Invalid email\");\n  }\n};\n\nconst changePassword = () => {\n  loginButtonsSession.resetMessages();\n\n  // notably not trimmed. a password could (?) start or end with a space\n  const oldPassword = elementValueById('login-old-password');\n\n  // notably not trimmed. a password could (?) start or end with a space\n  const password = elementValueById('login-password');\n  if (!validatePassword(password))\n    return;\n\n  if (!matchPasswordAgainIfPresent())\n    return;\n\n  Accounts.changePassword(oldPassword, password, error => {\n    if (error) {\n      loginButtonsSession.errorMessage(error.reason || \"Unknown error\");\n    } else {\n      loginButtonsSession.set('inChangePasswordFlow', false);\n      loginButtonsSession.set('inMessageOnlyFlow', true);\n      loginButtonsSession.infoMessage(\"Password changed\");\n    }\n  });\n};\n\nconst matchPasswordAgainIfPresent = () => {\n  // notably not trimmed. a password could (?) start or end with a space\n  const passwordAgain = elementValueById('login-password-again');\n  if (passwordAgain !== null) {\n    // notably not trimmed. a password could (?) start or end with a space\n    const password = elementValueById('login-password');\n    if (password !== passwordAgain) {\n      loginButtonsSession.errorMessage(\"Passwords don't match\");\n      return false;\n    }\n  }\n  return true;\n};\n\n// Utility containment function that works with both arrays and single values\nconst isInPasswordSignupFields = (fieldOrFields) => {\n  const signupFields = passwordSignupFields();\n\n  if (Array.isArray(fieldOrFields)) {\n    return signupFields.reduce(\n      (prev, field) => prev && fieldOrFields.includes(field),\n      true,\n    )\n  }\n\n  return signupFields.includes(fieldOrFields);\n};\n\nconst isInPasswordlessSignupFields = (fieldOrFields) => {\n  const signupFields = passwordlessSignupFields();\n\n  if (Array.isArray(fieldOrFields)) {\n    return signupFields.reduce(\n      (prev, field) => prev && fieldOrFields.includes(field),\n      true,\n    )\n  }\n\n  return signupFields.includes(fieldOrFields);\n}\n\n// events shared between loginButtonsLoggedOutDropdown and\n// loginButtonsLoggedInDropdown\nTemplate.loginButtons.events({\n  'click #login-name-link, click #login-sign-in-link': () =>\n    loginButtonsSession.set('dropdownVisible', true),\n  'click .login-close-text': loginButtonsSession.closeDropdown,\n});\n\n\n//\n// loginButtonsLoggedInDropdown template and related\n//\n\nTemplate._loginButtonsLoggedInDropdown.events({\n  'click #login-buttons-open-change-password': () => {\n    loginButtonsSession.resetMessages();\n    loginButtonsSession.set('inChangePasswordFlow', true);\n  }\n});\n\nTemplate._loginButtonsLoggedInDropdown.helpers({\n  displayName,\n  inChangePasswordFlow: () => loginButtonsSession.get('inChangePasswordFlow'),\n  inMessageOnlyFlow: () => loginButtonsSession.get('inMessageOnlyFlow'),\n  dropdownVisible: () => loginButtonsSession.get('dropdownVisible'),\n});\n\nTemplate._loginButtonsLoggedInDropdownActions.helpers({\n  allowChangingPassword: () => {\n    // it would be more correct to check whether the user has a password set,\n    // but in order to do that we'd have to send more data down to the client,\n    // and it'd be preferable not to send down the entire service.password document.\n    //\n    // instead we use the heuristic: if the user has a username or email set.\n    if (!Package['accounts-password']) return false;\n    const user = Meteor.user();\n    return user.username || (user.emails && user.emails[0] && user.emails[0].address);\n  }\n});\n\n\n//\n// loginButtonsLoggedOutDropdown template and related\n//\n\nTemplate._loginButtonsLoggedOutDropdown.events({\n  'click #login-buttons-password': event => {\n    event.preventDefault();\n    loginOrSignup();\n  },\n\n  'click #login-buttons-passwordless': event => {\n    event.preventDefault();\n    loginOrSignupPasswordless();\n  },\n\n  'keypress #forgot-password-email': event => {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      forgotPassword();\n    }\n  },\n\n  'click #login-buttons-forgot-password': forgotPassword,\n\n  'click #signup-link': () => {\n    loginButtonsSession.resetMessages();\n\n    // store values of fields before swtiching to the signup form\n    const username = trimmedElementValueById('login-username');\n    const email = trimmedElementValueById('login-email');\n    const usernameOrEmail = trimmedElementValueById('login-username-or-email');\n    // notably not trimmed. a password could (?) start or end with a space\n    const password = elementValueById('login-password');\n\n    loginButtonsSession.set('inSignupFlow', true);\n    loginButtonsSession.set('inForgotPasswordFlow', false);\n    // force the ui to update so that we have the approprate fields to fill in\n    Tracker.flush();\n\n    // update new fields with appropriate defaults\n    if (username !== null)\n      document.getElementById('login-username').value = username;\n    else if (email !== null)\n      document.getElementById('login-email').value = email;\n    else if (usernameOrEmail !== null)\n      if (!usernameOrEmail.includes('@'))\n        document.getElementById('login-username').value = usernameOrEmail;\n    else\n      document.getElementById('login-email').value = usernameOrEmail;\n\n    if (password !== null)\n      document.getElementById('login-password').value = password;\n\n    // Force redrawing the `login-dropdown-list` element because of\n    // a bizarre Chrome bug in which part of the DIV is not redrawn\n    // in case you had tried to unsuccessfully log in before\n    // switching to the signup form.\n    //\n    // Found tip on how to force a redraw on\n    // http://stackoverflow.com/questions/3485365/how-can-i-force-webkit-to-redraw-repaint-to-propagate-style-changes/3485654#3485654\n    const redraw = document.getElementById('login-dropdown-list');\n    redraw.style.display = 'none';\n    redraw.offsetHeight; // it seems that this line does nothing but is necessary for the redraw to work\n    redraw.style.display = 'block';\n  },\n  'click #forgot-password-link': () => {\n    loginButtonsSession.resetMessages();\n\n    // store values of fields before swtiching to the signup form\n    const email = trimmedElementValueById('login-email');\n    const usernameOrEmail = trimmedElementValueById('login-username-or-email');\n\n    loginButtonsSession.set('inSignupFlow', false);\n    loginButtonsSession.set('inForgotPasswordFlow', true);\n    // force the ui to update so that we have the approprate fields to fill in\n    Tracker.flush();\n\n    // update new fields with appropriate defaults\n    if (email !== null)\n      document.getElementById('forgot-password-email').value = email;\n    else if (usernameOrEmail !== null)\n      if (usernameOrEmail.includes('@'))\n        document.getElementById('forgot-password-email').value = usernameOrEmail;\n\n  },\n  'click #resend-passwordless-code': () => {\n    loginButtonsSession.set('inPasswordlessConfirmation', false);\n    loginButtonsSession.set('passwordlessCodeEmail', null);\n  },\n  'click #back-to-login-link': () => {\n    loginButtonsSession.resetMessages();\n\n    const username = trimmedElementValueById('login-username');\n    const email = trimmedElementValueById('login-email')\n          || trimmedElementValueById('forgot-password-email'); // Ughh. Standardize on names?\n    // notably not trimmed. a password could (?) start or end with a space\n    const password = elementValueById('login-password');\n\n    loginButtonsSession.set('inSignupFlow', false);\n    loginButtonsSession.set('inForgotPasswordFlow', false);\n    // force the ui to update so that we have the approprate fields to fill in\n    Tracker.flush();\n\n    if (document.getElementById('login-username') && username !== null)\n      document.getElementById('login-username').value = username;\n    if (document.getElementById('login-email') && email !== null)\n      document.getElementById('login-email').value = email;\n\n    const usernameOrEmailInput = document.getElementById('login-username-or-email');\n    if (usernameOrEmailInput) {\n      if (email !== null)\n        usernameOrEmailInput.value = email;\n      if (username !== null)\n        usernameOrEmailInput.value = username;\n    }\n\n    if (password !== null)\n      document.getElementById('login-password').value = password;\n  },\n});\n\nTemplate._loginButtonsLoggedOutDropdown.helpers({\n  // additional classes that can be helpful in styling the dropdown\n  additionalClasses: () => {\n    if (!hasPasswordService() || !hasPasswordlessService()) {\n      return false;\n    } else {\n      if (loginButtonsSession.get('inSignupFlow')) {\n        return 'login-form-create-account';\n      } else if (loginButtonsSession.get('inForgotPasswordFlow')) {\n        return 'login-form-forgot-password';\n      } else {\n        return 'login-form-sign-in';\n      }\n    }\n  },\n\n  dropdownVisible: () => loginButtonsSession.get('dropdownVisible'),\n\n  hasPasswordService,\n  hasPasswordlessService,\n});\n\n// return all login services, with password last\nTemplate._loginButtonsLoggedOutAllServices.helpers({\n  services: getLoginServices,\n  isPasswordService: function () {\n    return this.name === 'password';\n  },\n  isPasswordlessService: function () {\n    return this.name === 'passwordless';\n  },\n  hasOtherServices: () => {\n    let count = 0;\n    if (hasPasswordlessService()) count++;\n    if (hasPasswordService()) count++;\n    return getLoginServices().length > count;\n  },\n  displaySeparatorForPasswordless: () => {\n    return hasPasswordService() || getLoginServices().length > 1;\n  },\n  isInternalService: function () {\n    return this.name === 'password' || this.name === 'passwordless'\n  },\n  hasInternalService: () => hasPasswordService() || hasPasswordlessService(),\n  hasPasswordService,\n  hasPasswordlessService,\n});\n\nTemplate._loginButtonsLoggedOutPasswordlessService.helpers({\n  fields: () => [\n    {\n      fieldName: 'email-passwordless',\n      fieldLabel: 'Email',\n      autocomplete: 'email',\n      inputType: 'email',\n      visible: () => !loginButtonsSession.get('inPasswordlessConfirmation'),\n    },\n    {\n      fieldName: 'username-passwordless',\n      fieldLabel: 'Username',\n      autocomplete: 'username',\n      inputType: 'text',\n      visible: () => isInPasswordlessSignupFields('USERNAME_AND_EMAIL') && loginButtonsSession.get('inSignupFlow')\n    },\n    {\n      fieldName: 'code-passwordless',\n      fieldLabel: 'Code',\n      inputType: 'text',\n      visible: () => loginButtonsSession.get('inPasswordlessConfirmation')\n    }\n  ],\n  inForgotPasswordFlow: () => loginButtonsSession.get('inForgotPasswordFlow'),\n  inPasswordlessConfirmation: () => loginButtonsSession.get('inPasswordlessConfirmation'),\n\n  inLoginFlow: () =>\n    !loginButtonsSession.get('inSignupFlow') &&\n    !loginButtonsSession.get('inForgotPasswordFlow'),\n\n  inSignupFlow: () => loginButtonsSession.get('inSignupFlow'),\n\n  showCreateAccountLink: () => !Accounts._options.forbidClientAccountCreation,\n})\n\nTemplate._loginButtonsLoggedOutPasswordService.helpers({\n  fields: () => {\n    const loginFields = [\n      {fieldName: 'username-or-email', fieldLabel: 'Username or Email',\n        autocomplete: 'username email',\n        visible: () => isInPasswordSignupFields(\n          [\"USERNAME_AND_EMAIL\", \"USERNAME_AND_OPTIONAL_EMAIL\"]\n        ),\n      },\n      {fieldName: 'username', fieldLabel: 'Username', autocomplete: 'username',\n        visible: () => isInPasswordSignupFields(\"USERNAME_ONLY\"),\n      },\n      {fieldName: 'email', fieldLabel: 'Email', inputType: 'email',\n        autocomplete: 'email',\n        visible: () => isInPasswordSignupFields(\"EMAIL_ONLY\"),\n      },\n      {fieldName: 'password', fieldLabel: 'Password', inputType: 'password',\n        autocomplete: 'current-password',\n        visible: () => true,\n      }\n    ];\n\n    const signupFields = [\n      {fieldName: 'username', fieldLabel: 'Username', autocomplete: 'username',\n        visible: () => isInPasswordSignupFields([\n          \"USERNAME_AND_EMAIL\",\n          \"USERNAME_AND_OPTIONAL_EMAIL\",\n          \"USERNAME_ONLY\",\n        ]),\n      },\n      {fieldName: 'email', fieldLabel: 'Email', inputType: 'email',\n        autocomplete: 'email',\n        visible: () => isInPasswordSignupFields(\n          [\"USERNAME_AND_EMAIL\", \"EMAIL_ONLY\"]\n        ),\n      },\n      {fieldName: 'email', fieldLabel: 'Email (optional)', inputType: 'email',\n        autocomplete: 'email',\n        visible: () => isInPasswordSignupFields(\"USERNAME_AND_OPTIONAL_EMAIL\"),\n      },\n      {fieldName: 'password', fieldLabel: 'Password', inputType: 'password',\n        autocomplete: 'new-password',\n        visible: () => true,\n      },\n      {fieldName: 'password-again', fieldLabel: 'Password (again)',\n       inputType: 'password', autocomplete: 'new-password',\n        // No need to make users double-enter their password if\n        // they'll necessarily have an email set, since they can use\n        // the \"forgot password\" flow.\n        visible: () => isInPasswordSignupFields(\n          [\"USERNAME_AND_OPTIONAL_EMAIL\", \"USERNAME_ONLY\"]\n        ),\n      },\n    ];\n\n    return loginButtonsSession.get('inSignupFlow') ? signupFields : loginFields;\n  },\n\n  inForgotPasswordFlow: () => loginButtonsSession.get('inForgotPasswordFlow'),\n\n  inLoginFlow: () =>\n    !loginButtonsSession.get('inSignupFlow') &&\n    !loginButtonsSession.get('inForgotPasswordFlow'),\n\n  inSignupFlow: () => loginButtonsSession.get('inSignupFlow'),\n\n  showCreateAccountLink: () => !Accounts._options.forbidClientAccountCreation,\n\n  showForgotPasswordLink: () => isInPasswordSignupFields(\n    [\"USERNAME_AND_EMAIL\", \"USERNAME_AND_OPTIONAL_EMAIL\", \"EMAIL_ONLY\"]\n  ),\n});\n\nTemplate._loginButtonsFormField.helpers({\n  inputType: function () {\n    return this.inputType || \"text\"\n  }\n});\n\n\n//\n// loginButtonsChangePassword template\n//\n\nTemplate._loginButtonsChangePassword.events({\n  'keypress #login-old-password, keypress #login-password, keypress #login-password-again': event => {\n    if (event.keyCode === 13)\n      changePassword();\n  },\n  'click #login-buttons-do-change-password': changePassword,\n});\n\nTemplate._loginButtonsChangePassword.helpers({\n  fields: () => {\n    const { username, emails } = Meteor.user()\n    let email;\n    if (emails) {\n      email = emails[0].address;\n    }\n    return [\n      // The username and email fields are included here to address an\n      // accessibility warning in Chrome, but the fields don't actually display.\n      // The warning states that there should be an optionally hidden\n      // username/email field on password forms.\n      // XXX I think we should not use a CSS class here because this is the\n      // `unstyled` package. So instead we apply an inline style.\n      {fieldName: 'username', fieldLabel: 'Username', autocomplete: 'username',\n        fieldStyle: 'display: none;', fieldValue: username,\n        visible: () => isInPasswordSignupFields([\n          \"USERNAME_AND_EMAIL\",\n          \"USERNAME_AND_OPTIONAL_EMAIL\",\n          \"USERNAME_ONLY\",\n        ]),\n      },\n      {fieldName: 'email', fieldLabel: 'Email', inputType: 'email',\n        autocomplete: 'email', fieldStyle: 'display: none;', fieldValue: email,\n        visible: () => isInPasswordSignupFields(\n          [\"USERNAME_AND_EMAIL\", \"EMAIL_ONLY\"]\n        ),\n      },\n      {fieldName: 'old-password', fieldLabel: 'Current Password', inputType: 'password',\n        autocomplete: 'current-password', visible: () => true,\n      },\n      {fieldName: 'password', fieldLabel: 'New Password', inputType: 'password',\n        autocomplete: 'new-password', visible: () => true,\n      },\n      {fieldName: 'password-again', fieldLabel: 'New Password (again)',\n        inputType: 'password', autocomplete: 'new-password',\n        // No need to make users double-enter their password if\n        // they'll necessarily have an email set, since they can use\n        // the \"forgot password\" flow.\n        visible: () => isInPasswordSignupFields(\n          [\"USERNAME_AND_OPTIONAL_EMAIL\", \"USERNAME_ONLY\"]\n        ),\n      },\n    ];\n  }\n});\n"],"mappings":"AAAA,IAAIA,wBAAwB,EAACC,oBAAoB;AAACC,MAAM,CAACC,IAAI,CAAC,kBAAkB,EAAC;EAACH,wBAAwB,EAAC,SAAAA,CAASI,CAAC,EAAC;IAACJ,wBAAwB,GAACI,CAAC;EAAA,CAAC;EAACH,oBAAoB,EAAC,SAAAA,CAASG,CAAC,EAAC;IAACH,oBAAoB,GAACG,CAAC;EAAA;AAAC,CAAC,EAAC,CAAC,CAAC;AAAC,IAAIC,WAAW,EAACC,gBAAgB,EAACC,kBAAkB,EAACC,sBAAsB,EAACC,gBAAgB,EAACC,aAAa,EAACC,gBAAgB;AAACT,MAAM,CAACC,IAAI,CAAC,oBAAoB,EAAC;EAACE,WAAW,EAAC,SAAAA,CAASD,CAAC,EAAC;IAACC,WAAW,GAACD,CAAC;EAAA,CAAC;EAACE,gBAAgB,EAAC,SAAAA,CAASF,CAAC,EAAC;IAACE,gBAAgB,GAACF,CAAC;EAAA,CAAC;EAACG,kBAAkB,EAAC,SAAAA,CAASH,CAAC,EAAC;IAACG,kBAAkB,GAACH,CAAC;EAAA,CAAC;EAACI,sBAAsB,EAAC,SAAAA,CAASJ,CAAC,EAAC;IAACI,sBAAsB,GAACJ,CAAC;EAAA,CAAC;EAACK,gBAAgB,EAAC,SAAAA,CAASL,CAAC,EAAC;IAACK,gBAAgB,GAACL,CAAC;EAAA,CAAC;EAACM,aAAa,EAAC,SAAAA,CAASN,CAAC,EAAC;IAACM,aAAa,GAACN,CAAC;EAAA,CAAC;EAACO,gBAAgB,EAAC,SAAAA,CAASP,CAAC,EAAC;IAACO,gBAAgB,GAACP,CAAC;EAAA;AAAC,CAAC,EAAC,CAAC,CAAC;AAWvsB;AACA,IAAMQ,mBAAmB,GAAGC,QAAQ,CAACC,oBAAoB;;AAEzD;AACA;AACA;;AAEA,IAAMC,gBAAgB,GAAG,SAAAA,CAAAC,EAAE,EAAI;EAC7B,IAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAACH,EAAE,CAAC;EAC3C,IAAI,CAACC,OAAO,EACV,OAAO,IAAI,CAAC,KAEZ,OAAOA,OAAO,CAACG,KAAK;AACxB,CAAC;AAED,IAAMC,uBAAuB,GAAG,SAAAA,CAAAL,EAAE,EAAI;EACpC,IAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAACH,EAAE,CAAC;EAC3C,IAAI,CAACC,OAAO,EACV,OAAO,IAAI,CAAC,KAEZ,OAAOA,OAAO,CAACG,KAAK,CAACE,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,CAAC;AACpD,CAAC;AAED,IAAMC,aAAa,GAAG,SAAAA,CAAA,EAAM;EAC1B,IAAIX,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC,EACzCC,MAAM,CAAC,CAAC,CAAC,KAETC,KAAK,CAAC,CAAC;AACX,CAAC;AAED,IAAMC,yBAAyB,GAAG,SAAAA,CAAA,EAAM;EACtCf,mBAAmB,CAACgB,aAAa,CAAC,CAAC;EAEnC,IAAIhB,mBAAmB,CAACY,GAAG,CAAC,4BAA4B,CAAC,EAAE;IACzD,IAAMK,KAAK,GAAGR,uBAAuB,CAAC,yBAAyB,CAAC;IAChES,MAAM,CAACC,0BAA0B,CAAC;MAAEC,KAAK,EAAEpB,mBAAmB,CAACY,GAAG,CAAC,uBAAuB;IAAE,CAAC,EAAEK,KAAK,EAAE,UAACI,KAAK,EAAK;MAC/G,IAAIA,KAAK,EAAE;QACTrB,mBAAmB,CAACsB,YAAY,CAACD,KAAK,CAACE,MAAM,IAAI,eAAe,CAAC;MACnE,CAAC,MAAM;QACLvB,mBAAmB,CAACwB,GAAG,CAAC,4BAA4B,EAAE,KAAK,CAAC;QAC5DxB,mBAAmB,CAACwB,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC;MACxD;IACF,CAAC,CAAC;IAEF;EACF;EAEA,IAAMJ,KAAK,GAAGX,uBAAuB,CAAC,0BAA0B,CAAC;EACjE,IAAMgB,QAAQ,GAAGhB,uBAAuB,CAAC,6BAA6B,CAAC;EAEvE,IAAI,CAACW,KAAK,CAACM,QAAQ,CAAC,GAAG,CAAC,EAAE;IACxB1B,mBAAmB,CAACsB,YAAY,CAAC,eAAe,CAAC;IACjD;EACF;EACA,IAAIrB,QAAQ,CAAC0B,QAAQ,CAACC,2BAA2B,EAAE;IACjD5B,mBAAmB,CAACsB,YAAY,CAAC,oBAAoB,CAAC;IACtD;EACF;EAEA,IAAIG,QAAQ,KAAK,IAAI,IAAI,CAAC5B,gBAAgB,CAAC4B,QAAQ,CAAC,EAAE;IACpD;EACF;EAEAxB,QAAQ,CAAC4B,wBAAwB,CAAC;IAAEC,QAAQ,EAAEV,KAAK;IAAEW,QAAQ,EAAE;MAAEX,KAAK,EAALA,KAAK;MAAEK,QAAQ,EAARA;IAAS;EAAE,CAAC,EAAE,UAACJ,KAAK,EAAEW,MAAM,EAAK;IACvG,IAAIX,KAAK,EAAE;MACTrB,mBAAmB,CAACsB,YAAY,CAACD,KAAK,CAACE,MAAM,IAAI,eAAe,CAAC;IACnE,CAAC,MAAM;MAAA,IAAAU,gBAAA;MACLjC,mBAAmB,CAACwB,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAAC;MAC3DxB,mBAAmB,CAACwB,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC;MAC9CxB,mBAAmB,CAACwB,GAAG,CAAC,uBAAuB,EAAEQ,MAAM,aAANA,MAAM,wBAAAC,gBAAA,GAAND,MAAM,CAAEF,QAAQ,cAAAG,gBAAA,uBAAhBA,gBAAA,CAAkBb,KAAK,CAAC;IAC3E;EACF,CAAC,CAAC;AACJ,CAAC;AAED,IAAMN,KAAK,GAAG,SAAAA,CAAA,EAAM;EAClBd,mBAAmB,CAACgB,aAAa,CAAC,CAAC;EAEnC,IAAMS,QAAQ,GAAGhB,uBAAuB,CAAC,gBAAgB,CAAC;EAC1D,IAAMW,KAAK,GAAGX,uBAAuB,CAAC,aAAa,CAAC;EACpD,IAAMyB,eAAe,GAAGzB,uBAAuB,CAAC,yBAAyB,CAAC;EAC1E;EACA,IAAM0B,QAAQ,GAAGhC,gBAAgB,CAAC,gBAAgB,CAAC;EAEnD,IAAIiC,aAAa;EACjB,IAAIX,QAAQ,KAAK,IAAI,EAAE;IACrB,IAAI,CAAC5B,gBAAgB,CAAC4B,QAAQ,CAAC,EAC7B,OAAO,KAEPW,aAAa,GAAG;MAACX,QAAQ,EAAEA;IAAQ,CAAC;EACxC,CAAC,MAAM,IAAIL,KAAK,KAAK,IAAI,EAAE;IACzB,IAAI,CAACtB,aAAa,CAACsB,KAAK,CAAC,EACvB,OAAO,KAEPgB,aAAa,GAAG;MAAChB,KAAK,EAAEA;IAAK,CAAC;EAClC,CAAC,MAAM,IAAIc,eAAe,KAAK,IAAI,EAAE;IACnC;IACA;IACA,IAAI,CAACrC,gBAAgB,CAACqC,eAAe,CAAC,EACpC,OAAO,KAEPE,aAAa,GAAGF,eAAe;EACnC,CAAC,MAAM;IACL,MAAM,IAAIG,KAAK,CAAC,0DAA0D,CAAC;EAC7E;EAEAnB,MAAM,CAACoB,iBAAiB,CAACF,aAAa,EAAED,QAAQ,EAAE,UAACd,KAAK,EAAEW,MAAM,EAAK;IACnE,IAAIX,KAAK,EAAE;MACTrB,mBAAmB,CAACsB,YAAY,CAACD,KAAK,CAACE,MAAM,IAAI,eAAe,CAAC;IACnE,CAAC,MAAM;MACLvB,mBAAmB,CAACuC,aAAa,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,IAAM1B,MAAM,GAAG,SAAAA,CAAA,EAAM;EACnBb,mBAAmB,CAACgB,aAAa,CAAC,CAAC;EAEnC,IAAMwB,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEpB,IAAMf,QAAQ,GAAGhB,uBAAuB,CAAC,gBAAgB,CAAC;EAC1D,IAAIgB,QAAQ,KAAK,IAAI,EAAE;IACrB,IAAI,CAAC5B,gBAAgB,CAAC4B,QAAQ,CAAC,EAC7B,OAAO,KAEPe,OAAO,CAACf,QAAQ,GAAGA,QAAQ;EAC/B;EAEA,IAAML,KAAK,GAAGX,uBAAuB,CAAC,aAAa,CAAC;EACpD,IAAIW,KAAK,KAAK,IAAI,EAAE;IAClB,IAAI,CAACtB,aAAa,CAACsB,KAAK,CAAC,EACvB,OAAO,KAEPoB,OAAO,CAACpB,KAAK,GAAGA,KAAK;EACzB;;EAEA;EACA,IAAMe,QAAQ,GAAGhC,gBAAgB,CAAC,gBAAgB,CAAC;EACnD,IAAI,CAACJ,gBAAgB,CAACoC,QAAQ,CAAC,EAC7B,OAAO,KAEPK,OAAO,CAACL,QAAQ,GAAGA,QAAQ;EAE7B,IAAI,CAACM,2BAA2B,CAAC,CAAC,EAChC;EAEFxC,QAAQ,CAACyC,UAAU,CAACF,OAAO,EAAE,UAAAnB,KAAK,EAAI;IACpC,IAAIA,KAAK,EAAE;MACTrB,mBAAmB,CAACsB,YAAY,CAACD,KAAK,CAACE,MAAM,IAAI,eAAe,CAAC;IACnE,CAAC,MAAM;MACLvB,mBAAmB,CAACuC,aAAa,CAAC,CAAC;IACrC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,IAAMI,cAAc,GAAG,SAAAA,CAAA,EAAM;EAC3B3C,mBAAmB,CAACgB,aAAa,CAAC,CAAC;EAEnC,IAAMI,KAAK,GAAGX,uBAAuB,CAAC,uBAAuB,CAAC;EAC9D,IAAIW,KAAK,CAACM,QAAQ,CAAC,GAAG,CAAC,EAAE;IACvBzB,QAAQ,CAAC0C,cAAc,CAAC;MAACvB,KAAK,EAAEA;IAAK,CAAC,EAAE,UAAAC,KAAK,EAAI;MAC/C,IAAIA,KAAK,EACPrB,mBAAmB,CAACsB,YAAY,CAACD,KAAK,CAACE,MAAM,IAAI,eAAe,CAAC,CAAC,KAElEvB,mBAAmB,CAAC4C,WAAW,CAAC,YAAY,CAAC;IACjD,CAAC,CAAC;EACJ,CAAC,MAAM;IACL5C,mBAAmB,CAACsB,YAAY,CAAC,eAAe,CAAC;EACnD;AACF,CAAC;AAED,IAAMuB,cAAc,GAAG,SAAAA,CAAA,EAAM;EAC3B7C,mBAAmB,CAACgB,aAAa,CAAC,CAAC;;EAEnC;EACA,IAAM8B,WAAW,GAAG3C,gBAAgB,CAAC,oBAAoB,CAAC;;EAE1D;EACA,IAAMgC,QAAQ,GAAGhC,gBAAgB,CAAC,gBAAgB,CAAC;EACnD,IAAI,CAACJ,gBAAgB,CAACoC,QAAQ,CAAC,EAC7B;EAEF,IAAI,CAACM,2BAA2B,CAAC,CAAC,EAChC;EAEFxC,QAAQ,CAAC4C,cAAc,CAACC,WAAW,EAAEX,QAAQ,EAAE,UAAAd,KAAK,EAAI;IACtD,IAAIA,KAAK,EAAE;MACTrB,mBAAmB,CAACsB,YAAY,CAACD,KAAK,CAACE,MAAM,IAAI,eAAe,CAAC;IACnE,CAAC,MAAM;MACLvB,mBAAmB,CAACwB,GAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC;MACtDxB,mBAAmB,CAACwB,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC;MAClDxB,mBAAmB,CAAC4C,WAAW,CAAC,kBAAkB,CAAC;IACrD;EACF,CAAC,CAAC;AACJ,CAAC;AAED,IAAMH,2BAA2B,GAAG,SAAAA,CAAA,EAAM;EACxC;EACA,IAAMM,aAAa,GAAG5C,gBAAgB,CAAC,sBAAsB,CAAC;EAC9D,IAAI4C,aAAa,KAAK,IAAI,EAAE;IAC1B;IACA,IAAMZ,QAAQ,GAAGhC,gBAAgB,CAAC,gBAAgB,CAAC;IACnD,IAAIgC,QAAQ,KAAKY,aAAa,EAAE;MAC9B/C,mBAAmB,CAACsB,YAAY,CAAC,uBAAuB,CAAC;MACzD,OAAO,KAAK;IACd;EACF;EACA,OAAO,IAAI;AACb,CAAC;;AAED;AACA,IAAM0B,wBAAwB,GAAG,SAAAA,CAACC,aAAa,EAAK;EAClD,IAAMC,YAAY,GAAG7D,oBAAoB,CAAC,CAAC;EAE3C,IAAI8D,KAAK,CAACC,OAAO,CAACH,aAAa,CAAC,EAAE;IAChC,OAAOC,YAAY,CAACG,MAAM,CACxB,UAACC,IAAI,EAAEC,KAAK;MAAA,OAAKD,IAAI,IAAIL,aAAa,CAACvB,QAAQ,CAAC6B,KAAK,CAAC;IAAA,GACtD,IACF,CAAC;EACH;EAEA,OAAOL,YAAY,CAACxB,QAAQ,CAACuB,aAAa,CAAC;AAC7C,CAAC;AAED,IAAMO,4BAA4B,GAAG,SAAAA,CAACP,aAAa,EAAK;EACtD,IAAMC,YAAY,GAAG9D,wBAAwB,CAAC,CAAC;EAE/C,IAAI+D,KAAK,CAACC,OAAO,CAACH,aAAa,CAAC,EAAE;IAChC,OAAOC,YAAY,CAACG,MAAM,CACxB,UAACC,IAAI,EAAEC,KAAK;MAAA,OAAKD,IAAI,IAAIL,aAAa,CAACvB,QAAQ,CAAC6B,KAAK,CAAC;IAAA,GACtD,IACF,CAAC;EACH;EAEA,OAAOL,YAAY,CAACxB,QAAQ,CAACuB,aAAa,CAAC;AAC7C,CAAC;;AAED;AACA;AACAQ,QAAQ,CAACC,YAAY,CAACC,MAAM,CAAC;EAC3B,mDAAmD,EAAE,SAAAC,CAAA;IAAA,OACnD5D,mBAAmB,CAACwB,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC;EAAA;EAClD,yBAAyB,EAAExB,mBAAmB,CAACuC;AACjD,CAAC,CAAC;;AAGF;AACA;AACA;;AAEAkB,QAAQ,CAACI,6BAA6B,CAACF,MAAM,CAAC;EAC5C,2CAA2C,EAAE,SAAAG,CAAA,EAAM;IACjD9D,mBAAmB,CAACgB,aAAa,CAAC,CAAC;IACnChB,mBAAmB,CAACwB,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC;EACvD;AACF,CAAC,CAAC;AAEFiC,QAAQ,CAACI,6BAA6B,CAACE,OAAO,CAAC;EAC7CtE,WAAW,EAAXA,WAAW;EACXuE,oBAAoB,EAAE,SAAAA,CAAA;IAAA,OAAMhE,mBAAmB,CAACY,GAAG,CAAC,sBAAsB,CAAC;EAAA;EAC3EqD,iBAAiB,EAAE,SAAAA,CAAA;IAAA,OAAMjE,mBAAmB,CAACY,GAAG,CAAC,mBAAmB,CAAC;EAAA;EACrEsD,eAAe,EAAE,SAAAA,CAAA;IAAA,OAAMlE,mBAAmB,CAACY,GAAG,CAAC,iBAAiB,CAAC;EAAA;AACnE,CAAC,CAAC;AAEF6C,QAAQ,CAACU,oCAAoC,CAACJ,OAAO,CAAC;EACpDK,qBAAqB,EAAE,SAAAA,CAAA,EAAM;IAC3B;IACA;IACA;IACA;IACA;IACA,IAAI,CAACC,OAAO,CAAC,mBAAmB,CAAC,EAAE,OAAO,KAAK;IAC/C,IAAMC,IAAI,GAAGpD,MAAM,CAACoD,IAAI,CAAC,CAAC;IAC1B,OAAOA,IAAI,CAAC7C,QAAQ,IAAK6C,IAAI,CAACC,MAAM,IAAID,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,IAAID,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,OAAQ;EACnF;AACF,CAAC,CAAC;;AAGF;AACA;AACA;;AAEAf,QAAQ,CAACgB,8BAA8B,CAACd,MAAM,CAAC;EAC7C,+BAA+B,EAAE,SAAAe,CAAAC,KAAK,EAAI;IACxCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBjE,aAAa,CAAC,CAAC;EACjB,CAAC;EAED,mCAAmC,EAAE,SAAAkE,CAAAF,KAAK,EAAI;IAC5CA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB7D,yBAAyB,CAAC,CAAC;EAC7B,CAAC;EAED,iCAAiC,EAAE,SAAA+D,CAAAH,KAAK,EAAI;IAC1C,IAAIA,KAAK,CAACI,OAAO,KAAK,EAAE,EAAE;MACxBJ,KAAK,CAACC,cAAc,CAAC,CAAC;MACtBjC,cAAc,CAAC,CAAC;IAClB;EACF,CAAC;EAED,sCAAsC,EAAEA,cAAc;EAEtD,oBAAoB,EAAE,SAAAqC,CAAA,EAAM;IAC1BhF,mBAAmB,CAACgB,aAAa,CAAC,CAAC;;IAEnC;IACA,IAAMS,QAAQ,GAAGhB,uBAAuB,CAAC,gBAAgB,CAAC;IAC1D,IAAMW,KAAK,GAAGX,uBAAuB,CAAC,aAAa,CAAC;IACpD,IAAMyB,eAAe,GAAGzB,uBAAuB,CAAC,yBAAyB,CAAC;IAC1E;IACA,IAAM0B,QAAQ,GAAGhC,gBAAgB,CAAC,gBAAgB,CAAC;IAEnDH,mBAAmB,CAACwB,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC;IAC7CxB,mBAAmB,CAACwB,GAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC;IACtD;IACAyD,OAAO,CAACC,KAAK,CAAC,CAAC;;IAEf;IACA,IAAIzD,QAAQ,KAAK,IAAI,EACnBnB,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,GAAGiB,QAAQ,CAAC,KACxD,IAAIL,KAAK,KAAK,IAAI,EACrBd,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,GAAGY,KAAK,CAAC,KAClD,IAAIc,eAAe,KAAK,IAAI,EAC/B,IAAI,CAACA,eAAe,CAACR,QAAQ,CAAC,GAAG,CAAC,EAChCpB,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,GAAG0B,eAAe,CAAC,KAEpE5B,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,GAAG0B,eAAe;IAEhE,IAAIC,QAAQ,KAAK,IAAI,EACnB7B,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,GAAG2B,QAAQ;;IAE5D;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAMgD,MAAM,GAAG7E,QAAQ,CAACC,cAAc,CAAC,qBAAqB,CAAC;IAC7D4E,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;IAC7BF,MAAM,CAACG,YAAY,CAAC,CAAC;IACrBH,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,OAAO;EAChC,CAAC;EACD,6BAA6B,EAAE,SAAAE,CAAA,EAAM;IACnCvF,mBAAmB,CAACgB,aAAa,CAAC,CAAC;;IAEnC;IACA,IAAMI,KAAK,GAAGX,uBAAuB,CAAC,aAAa,CAAC;IACpD,IAAMyB,eAAe,GAAGzB,uBAAuB,CAAC,yBAAyB,CAAC;IAE1ET,mBAAmB,CAACwB,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC;IAC9CxB,mBAAmB,CAACwB,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC;IACrD;IACAyD,OAAO,CAACC,KAAK,CAAC,CAAC;;IAEf;IACA,IAAI9D,KAAK,KAAK,IAAI,EAChBd,QAAQ,CAACC,cAAc,CAAC,uBAAuB,CAAC,CAACC,KAAK,GAAGY,KAAK,CAAC,KAC5D,IAAIc,eAAe,KAAK,IAAI,EAC/B,IAAIA,eAAe,CAACR,QAAQ,CAAC,GAAG,CAAC,EAC/BpB,QAAQ,CAACC,cAAc,CAAC,uBAAuB,CAAC,CAACC,KAAK,GAAG0B,eAAe;EAE9E,CAAC;EACD,iCAAiC,EAAE,SAAAsD,CAAA,EAAM;IACvCxF,mBAAmB,CAACwB,GAAG,CAAC,4BAA4B,EAAE,KAAK,CAAC;IAC5DxB,mBAAmB,CAACwB,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAAC;EACxD,CAAC;EACD,2BAA2B,EAAE,SAAAiE,CAAA,EAAM;IACjCzF,mBAAmB,CAACgB,aAAa,CAAC,CAAC;IAEnC,IAAMS,QAAQ,GAAGhB,uBAAuB,CAAC,gBAAgB,CAAC;IAC1D,IAAMW,KAAK,GAAGX,uBAAuB,CAAC,aAAa,CAAC,IAC3CA,uBAAuB,CAAC,uBAAuB,CAAC,CAAC,CAAC;IAC3D;IACA,IAAM0B,QAAQ,GAAGhC,gBAAgB,CAAC,gBAAgB,CAAC;IAEnDH,mBAAmB,CAACwB,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC;IAC9CxB,mBAAmB,CAACwB,GAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC;IACtD;IACAyD,OAAO,CAACC,KAAK,CAAC,CAAC;IAEf,IAAI5E,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,IAAIkB,QAAQ,KAAK,IAAI,EAChEnB,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,GAAGiB,QAAQ;IAC5D,IAAInB,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,IAAIa,KAAK,KAAK,IAAI,EAC1Dd,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAACC,KAAK,GAAGY,KAAK;IAEtD,IAAMsE,oBAAoB,GAAGpF,QAAQ,CAACC,cAAc,CAAC,yBAAyB,CAAC;IAC/E,IAAImF,oBAAoB,EAAE;MACxB,IAAItE,KAAK,KAAK,IAAI,EAChBsE,oBAAoB,CAAClF,KAAK,GAAGY,KAAK;MACpC,IAAIK,QAAQ,KAAK,IAAI,EACnBiE,oBAAoB,CAAClF,KAAK,GAAGiB,QAAQ;IACzC;IAEA,IAAIU,QAAQ,KAAK,IAAI,EACnB7B,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAC,CAACC,KAAK,GAAG2B,QAAQ;EAC9D;AACF,CAAC,CAAC;AAEFsB,QAAQ,CAACgB,8BAA8B,CAACV,OAAO,CAAC;EAC9C;EACA4B,iBAAiB,EAAE,SAAAA,CAAA,EAAM;IACvB,IAAI,CAAChG,kBAAkB,CAAC,CAAC,IAAI,CAACC,sBAAsB,CAAC,CAAC,EAAE;MACtD,OAAO,KAAK;IACd,CAAC,MAAM;MACL,IAAII,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC,EAAE;QAC3C,OAAO,2BAA2B;MACpC,CAAC,MAAM,IAAIZ,mBAAmB,CAACY,GAAG,CAAC,sBAAsB,CAAC,EAAE;QAC1D,OAAO,4BAA4B;MACrC,CAAC,MAAM;QACL,OAAO,oBAAoB;MAC7B;IACF;EACF,CAAC;EAEDsD,eAAe,EAAE,SAAAA,CAAA;IAAA,OAAMlE,mBAAmB,CAACY,GAAG,CAAC,iBAAiB,CAAC;EAAA;EAEjEjB,kBAAkB,EAAlBA,kBAAkB;EAClBC,sBAAsB,EAAtBA;AACF,CAAC,CAAC;;AAEF;AACA6D,QAAQ,CAACmC,iCAAiC,CAAC7B,OAAO,CAAC;EACjD8B,QAAQ,EAAEnG,gBAAgB;EAC1BoG,iBAAiB,EAAE,SAAAA,CAAA,EAAY;IAC7B,OAAO,IAAI,CAACC,IAAI,KAAK,UAAU;EACjC,CAAC;EACDC,qBAAqB,EAAE,SAAAA,CAAA,EAAY;IACjC,OAAO,IAAI,CAACD,IAAI,KAAK,cAAc;EACrC,CAAC;EACDE,gBAAgB,EAAE,SAAAA,CAAA,EAAM;IACtB,IAAIC,KAAK,GAAG,CAAC;IACb,IAAItG,sBAAsB,CAAC,CAAC,EAAEsG,KAAK,EAAE;IACrC,IAAIvG,kBAAkB,CAAC,CAAC,EAAEuG,KAAK,EAAE;IACjC,OAAOxG,gBAAgB,CAAC,CAAC,CAACyG,MAAM,GAAGD,KAAK;EAC1C,CAAC;EACDE,+BAA+B,EAAE,SAAAA,CAAA,EAAM;IACrC,OAAOzG,kBAAkB,CAAC,CAAC,IAAID,gBAAgB,CAAC,CAAC,CAACyG,MAAM,GAAG,CAAC;EAC9D,CAAC;EACDE,iBAAiB,EAAE,SAAAA,CAAA,EAAY;IAC7B,OAAO,IAAI,CAACN,IAAI,KAAK,UAAU,IAAI,IAAI,CAACA,IAAI,KAAK,cAAc;EACjE,CAAC;EACDO,kBAAkB,EAAE,SAAAA,CAAA;IAAA,OAAM3G,kBAAkB,CAAC,CAAC,IAAIC,sBAAsB,CAAC,CAAC;EAAA;EAC1ED,kBAAkB,EAAlBA,kBAAkB;EAClBC,sBAAsB,EAAtBA;AACF,CAAC,CAAC;AAEF6D,QAAQ,CAAC8C,yCAAyC,CAACxC,OAAO,CAAC;EACzDyC,MAAM,EAAE,SAAAA,CAAA;IAAA,OAAM,CACZ;MACEC,SAAS,EAAE,oBAAoB;MAC/BC,UAAU,EAAE,OAAO;MACnBC,YAAY,EAAE,OAAO;MACrBC,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM,CAAC7G,mBAAmB,CAACY,GAAG,CAAC,4BAA4B,CAAC;MAAA;IACvE,CAAC,EACD;MACE6F,SAAS,EAAE,uBAAuB;MAClCC,UAAU,EAAE,UAAU;MACtBC,YAAY,EAAE,UAAU;MACxBC,SAAS,EAAE,MAAM;MACjBC,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAMrD,4BAA4B,CAAC,oBAAoB,CAAC,IAAIxD,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC;MAAA;IAC9G,CAAC,EACD;MACE6F,SAAS,EAAE,mBAAmB;MAC9BC,UAAU,EAAE,MAAM;MAClBE,SAAS,EAAE,MAAM;MACjBC,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7G,mBAAmB,CAACY,GAAG,CAAC,4BAA4B,CAAC;MAAA;IACtE,CAAC,CACF;EAAA;EACDkG,oBAAoB,EAAE,SAAAA,CAAA;IAAA,OAAM9G,mBAAmB,CAACY,GAAG,CAAC,sBAAsB,CAAC;EAAA;EAC3EmG,0BAA0B,EAAE,SAAAA,CAAA;IAAA,OAAM/G,mBAAmB,CAACY,GAAG,CAAC,4BAA4B,CAAC;EAAA;EAEvFoG,WAAW,EAAE,SAAAA,CAAA;IAAA,OACX,CAAChH,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC,IACxC,CAACZ,mBAAmB,CAACY,GAAG,CAAC,sBAAsB,CAAC;EAAA;EAElDqG,YAAY,EAAE,SAAAA,CAAA;IAAA,OAAMjH,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC;EAAA;EAE3DsG,qBAAqB,EAAE,SAAAA,CAAA;IAAA,OAAM,CAACjH,QAAQ,CAAC0B,QAAQ,CAACC,2BAA2B;EAAA;AAC7E,CAAC,CAAC;AAEF6B,QAAQ,CAAC0D,qCAAqC,CAACpD,OAAO,CAAC;EACrDyC,MAAM,EAAE,SAAAA,CAAA,EAAM;IACZ,IAAMY,WAAW,GAAG,CAClB;MAACX,SAAS,EAAE,mBAAmB;MAAEC,UAAU,EAAE,mBAAmB;MAC9DC,YAAY,EAAE,gBAAgB;MAC9BE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CACrC,CAAC,oBAAoB,EAAE,6BAA6B,CACtD,CAAC;MAAA;IACH,CAAC,EACD;MAACyD,SAAS,EAAE,UAAU;MAAEC,UAAU,EAAE,UAAU;MAAEC,YAAY,EAAE,UAAU;MACtEE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CAAC,eAAe,CAAC;MAAA;IAC1D,CAAC,EACD;MAACyD,SAAS,EAAE,OAAO;MAAEC,UAAU,EAAE,OAAO;MAAEE,SAAS,EAAE,OAAO;MAC1DD,YAAY,EAAE,OAAO;MACrBE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CAAC,YAAY,CAAC;MAAA;IACvD,CAAC,EACD;MAACyD,SAAS,EAAE,UAAU;MAAEC,UAAU,EAAE,UAAU;MAAEE,SAAS,EAAE,UAAU;MACnED,YAAY,EAAE,kBAAkB;MAChCE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM,IAAI;MAAA;IACrB,CAAC,CACF;IAED,IAAM3D,YAAY,GAAG,CACnB;MAACuD,SAAS,EAAE,UAAU;MAAEC,UAAU,EAAE,UAAU;MAAEC,YAAY,EAAE,UAAU;MACtEE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CAAC,CACtC,oBAAoB,EACpB,6BAA6B,EAC7B,eAAe,CAChB,CAAC;MAAA;IACJ,CAAC,EACD;MAACyD,SAAS,EAAE,OAAO;MAAEC,UAAU,EAAE,OAAO;MAAEE,SAAS,EAAE,OAAO;MAC1DD,YAAY,EAAE,OAAO;MACrBE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CACrC,CAAC,oBAAoB,EAAE,YAAY,CACrC,CAAC;MAAA;IACH,CAAC,EACD;MAACyD,SAAS,EAAE,OAAO;MAAEC,UAAU,EAAE,kBAAkB;MAAEE,SAAS,EAAE,OAAO;MACrED,YAAY,EAAE,OAAO;MACrBE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CAAC,6BAA6B,CAAC;MAAA;IACxE,CAAC,EACD;MAACyD,SAAS,EAAE,UAAU;MAAEC,UAAU,EAAE,UAAU;MAAEE,SAAS,EAAE,UAAU;MACnED,YAAY,EAAE,cAAc;MAC5BE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM,IAAI;MAAA;IACrB,CAAC,EACD;MAACJ,SAAS,EAAE,gBAAgB;MAAEC,UAAU,EAAE,kBAAkB;MAC3DE,SAAS,EAAE,UAAU;MAAED,YAAY,EAAE,cAAc;MAClD;MACA;MACA;MACAE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CACrC,CAAC,6BAA6B,EAAE,eAAe,CACjD,CAAC;MAAA;IACH,CAAC,CACF;IAED,OAAOhD,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC,GAAGsC,YAAY,GAAGkE,WAAW;EAC7E,CAAC;EAEDN,oBAAoB,EAAE,SAAAA,CAAA;IAAA,OAAM9G,mBAAmB,CAACY,GAAG,CAAC,sBAAsB,CAAC;EAAA;EAE3EoG,WAAW,EAAE,SAAAA,CAAA;IAAA,OACX,CAAChH,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC,IACxC,CAACZ,mBAAmB,CAACY,GAAG,CAAC,sBAAsB,CAAC;EAAA;EAElDqG,YAAY,EAAE,SAAAA,CAAA;IAAA,OAAMjH,mBAAmB,CAACY,GAAG,CAAC,cAAc,CAAC;EAAA;EAE3DsG,qBAAqB,EAAE,SAAAA,CAAA;IAAA,OAAM,CAACjH,QAAQ,CAAC0B,QAAQ,CAACC,2BAA2B;EAAA;EAE3EyF,sBAAsB,EAAE,SAAAA,CAAA;IAAA,OAAMrE,wBAAwB,CACpD,CAAC,oBAAoB,EAAE,6BAA6B,EAAE,YAAY,CACpE,CAAC;EAAA;AACH,CAAC,CAAC;AAEFS,QAAQ,CAAC6D,sBAAsB,CAACvD,OAAO,CAAC;EACtC6C,SAAS,EAAE,SAAAA,CAAA,EAAY;IACrB,OAAO,IAAI,CAACA,SAAS,IAAI,MAAM;EACjC;AACF,CAAC,CAAC;;AAGF;AACA;AACA;;AAEAnD,QAAQ,CAAC8D,2BAA2B,CAAC5D,MAAM,CAAC;EAC1C,wFAAwF,EAAE,SAAA6D,CAAA7C,KAAK,EAAI;IACjG,IAAIA,KAAK,CAACI,OAAO,KAAK,EAAE,EACtBlC,cAAc,CAAC,CAAC;EACpB,CAAC;EACD,yCAAyC,EAAEA;AAC7C,CAAC,CAAC;AAEFY,QAAQ,CAAC8D,2BAA2B,CAACxD,OAAO,CAAC;EAC3CyC,MAAM,EAAE,SAAAA,CAAA,EAAM;IACZ,IAAAiB,YAAA,GAA6BvG,MAAM,CAACoD,IAAI,CAAC,CAAC;MAAlC7C,QAAQ,GAAAgG,YAAA,CAARhG,QAAQ;MAAE8C,MAAM,GAAAkD,YAAA,CAANlD,MAAM;IACxB,IAAInD,KAAK;IACT,IAAImD,MAAM,EAAE;MACVnD,KAAK,GAAGmD,MAAM,CAAC,CAAC,CAAC,CAACC,OAAO;IAC3B;IACA,OAAO;IACL;IACA;IACA;IACA;IACA;IACA;IACA;MAACiC,SAAS,EAAE,UAAU;MAAEC,UAAU,EAAE,UAAU;MAAEC,YAAY,EAAE,UAAU;MACtEe,UAAU,EAAE,gBAAgB;MAAEC,UAAU,EAAElG,QAAQ;MAClDoF,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CAAC,CACtC,oBAAoB,EACpB,6BAA6B,EAC7B,eAAe,CAChB,CAAC;MAAA;IACJ,CAAC,EACD;MAACyD,SAAS,EAAE,OAAO;MAAEC,UAAU,EAAE,OAAO;MAAEE,SAAS,EAAE,OAAO;MAC1DD,YAAY,EAAE,OAAO;MAAEe,UAAU,EAAE,gBAAgB;MAAEC,UAAU,EAAEvG,KAAK;MACtEyF,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CACrC,CAAC,oBAAoB,EAAE,YAAY,CACrC,CAAC;MAAA;IACH,CAAC,EACD;MAACyD,SAAS,EAAE,cAAc;MAAEC,UAAU,EAAE,kBAAkB;MAAEE,SAAS,EAAE,UAAU;MAC/ED,YAAY,EAAE,kBAAkB;MAAEE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM,IAAI;MAAA;IACvD,CAAC,EACD;MAACJ,SAAS,EAAE,UAAU;MAAEC,UAAU,EAAE,cAAc;MAAEE,SAAS,EAAE,UAAU;MACvED,YAAY,EAAE,cAAc;MAAEE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM,IAAI;MAAA;IACnD,CAAC,EACD;MAACJ,SAAS,EAAE,gBAAgB;MAAEC,UAAU,EAAE,sBAAsB;MAC9DE,SAAS,EAAE,UAAU;MAAED,YAAY,EAAE,cAAc;MACnD;MACA;MACA;MACAE,OAAO,EAAE,SAAAA,CAAA;QAAA,OAAM7D,wBAAwB,CACrC,CAAC,6BAA6B,EAAE,eAAe,CACjD,CAAC;MAAA;IACH,CAAC,CACF;EACH;AACF,CAAC,CAAC"},"sourceType":"module","externalDependencies":{},"hash":"eacfee616d5bb93c412e046ff604a8c817a82f6b"}
